/*! WebFilings Copyright (c) 2014 */

/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

/**
 * @license
 * Lo-Dash 1.3.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash modern -o ./dist/lodash.js`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.4.4 <http://underscorejs.org/>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 * Available under MIT license <http://lodash.com/license>
 */

/*!
 * Modernizr v2.6.2
 * www.modernizr.com
 *
 * Copyright (c) Faruk Ates, Paul Irish, Alex Sexton
 * Available under the BSD and MIT licenses: www.modernizr.com/license/
 */

/*! HTML5 Shiv v3.6.1 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed */

/*! Hammer.JS - v1.0.5 - 2013-04-07
 * http://eightmedia.github.com/hammer.js
 *
 * Copyright (c) 2013 Jorik Tangelder <j.tangelder@gmail.com>;
 * Licensed under the MIT license */

(function(e,t){typeof define=="function"&&define.amd?define(["exports","scroll_list/ScrollList"],t):typeof exports=="object"?t(exports,require("scroll_list/ScrollList")):(e.wf=e.wf||{},e.wf.uicomponents=e.wf.uicomponents||{},t(e.wf.uicomponents,e.ScrollList))})(this,function(e,t){var n,r,i;(function(e){function v(e,t){return h.call(e,t)}function m(e,t){var n,r,i,s,o,u,a,f,c,h,p,v=t&&t.split("/"),m=l.map,g=m&&m["*"]||{};if(e&&e.charAt(0)===".")if(t){v=v.slice(0,v.length-1),e=e.split("/"),o=e.length-1,l.nodeIdCompat&&d.test(e[o])&&(e[o]=e[o].replace(d,"")),e=v.concat(e);for(c=0;c<e.length;c+=1){p=e[c];if(p===".")e.splice(c,1),c-=1;else if(p===".."){if(c===1&&(e[2]===".."||e[0]===".."))break;c>0&&(e.splice(c-1,2),c-=2)}}e=e.join("/")}else e.indexOf("./")===0&&(e=e.substring(2));if((v||g)&&m){n=e.split("/");for(c=n.length;c>0;c-=1){r=n.slice(0,c).join("/");if(v)for(h=v.length;h>0;h-=1){i=m[v.slice(0,h).join("/")];if(i){i=i[r];if(i){s=i,u=c;break}}}if(s)break;!a&&g&&g[r]&&(a=g[r],f=c)}!s&&a&&(s=a,u=f),s&&(n.splice(0,u,s),e=n.join("/"))}return e}function g(t,n){return function(){return s.apply(e,p.call(arguments,0).concat([t,n]))}}function y(e){return function(t){return m(t,e)}}function b(e){return function(t){a[e]=t}}function w(n){if(v(f,n)){var r=f[n];delete f[n],c[n]=!0,t.apply(e,r)}if(!v(a,n)&&!v(c,n))throw new Error("No "+n);return a[n]}function E(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function S(e){return function(){return l&&l.config&&l.config[e]||{}}}var t,s,o,u,a={},f={},l={},c={},h=Object.prototype.hasOwnProperty,p=[].slice,d=/\.js$/;o=function(e,t){var n,r=E(e),i=r[0];return e=r[1],i&&(i=m(i,t),n=w(i)),i?n&&n.normalize?e=n.normalize(e,y(t)):e=m(e,t):(e=m(e,t),r=E(e),i=r[0],e=r[1],i&&(n=w(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},u={require:function(e){return g(e)},exports:function(e){var t=a[e];return typeof t!="undefined"?t:a[e]={}},module:function(e){return{id:e,uri:"",exports:a[e],config:S(e)}}},t=function(t,n,r,i){var s,l,h,p,d,m=[],y=typeof r,E;i=i||t;if(y==="undefined"||y==="function"){n=!n.length&&r.length?["require","exports","module"]:n;for(d=0;d<n.length;d+=1){p=o(n[d],i),l=p.f;if(l==="require")m[d]=u.require(t);else if(l==="exports")m[d]=u.exports(t),E=!0;else if(l==="module")s=m[d]=u.module(t);else if(v(a,l)||v(f,l)||v(c,l))m[d]=w(l);else{if(!p.p)throw new Error(t+" missing "+l);p.p.load(p.n,g(i,!0),b(l),{}),m[d]=a[l]}}h=r?r.apply(a[t],m):undefined;if(t)if(s&&s.exports!==e&&s.exports!==a[t])a[t]=s.exports;else if(h!==e||!E)a[t]=h}else t&&(a[t]=r)},n=r=s=function(n,r,i,a,f){if(typeof n=="string")return u[n]?u[n](r):w(o(n,r).f);if(!n.splice){l=n,l.deps&&s(l.deps,l.callback);if(!r)return;r.splice?(n=r,r=i,i=null):n=e}return r=r||function(){},typeof i=="function"&&(i=a,a=f),a?t(e,n,r,i):setTimeout(function(){t(e,n,r,i)},4),s},s.config=function(e){return s(e)},n._defined=a,i=function(e,t,n){t.splice||(n=t,t=[]),!v(a,e)&&!v(f,e)&&(f[e]=[e,t,n])},i.amd={jQuery:!0}})(),i("../node_modules/almond/almond",function(){}),function(t){function U(e,t,n){var r=(n||0)-1,i=e.length;while(++r<i)if(e[r]===t)return r;return-1}function z(e,t){var n=typeof t;e=e.cache;if(n=="boolean"||t==null)return e[t];n!="number"&&n!="string"&&(n="object");var r=n=="number"?t:a+t;return e=e[n]||(e[n]={}),n=="object"?e[r]&&U(e[r],t)>-1?0:-1:e[r]?0:-1}function W(e){var t=this.cache,n=typeof e;if(n=="boolean"||e==null)t[e]=!0;else{n!="number"&&n!="string"&&(n="object");var r=n=="number"?e:a+e,i=t[n]||(t[n]={});n=="object"?(i[r]||(i[r]=[])).push(e)==this.array.length&&(t[n]=!1):i[r]=!0}}function X(e){return e.charCodeAt(0)}function V(e,t){var n=e.index,r=t.index;e=e.criteria,t=t.criteria;if(e!==t){if(e>t||typeof e=="undefined")return 1;if(e<t||typeof t=="undefined")return-1}return n<r?-1:1}function $(e){var t=-1,n=e.length,r=Q();r["false"]=r["null"]=r["true"]=r["undefined"]=!1;var i=Q();i.array=e,i.cache=r,i.push=W;while(++t<n)i.push(e[t]);return r.object===!1?(Z(i),null):i}function J(e){return"\\"+F[e]}function K(){return r.pop()||[]}function Q(){return s.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,leading:!1,maxWait:0,"null":!1,number:null,object:null,push:null,string:null,trailing:!1,"true":!1,"undefined":!1,value:null}}function G(){}function Y(e){e.length=0,r.length<l&&r.push(e)}function Z(e){var t=e.cache;t&&Z(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,s.length<l&&s.push(e)}function et(e,t,n){t||(t=0),typeof n=="undefined"&&(n=e?e.length:0);var r=-1,i=n-t||0,s=Array(i<0?0:i);while(++r<i)s[r]=e[t+r];return s}function tt(e){function Pt(e){return e&&typeof e=="object"&&!Xt(e)&&dt.call(e,"__wrapped__")?e:new Ht(e)}function Ht(e){this.__wrapped__=e}function jt(e,t,n,r){function a(){var r=arguments,f=s?this:t;i||(e=t[o]),n.length&&(r=r.length?(r=Ot.call(r),u?r.concat(n):n.concat(r)):n);if(this instanceof a){f=Ft(e.prototype);var l=e.apply(f,r);return dn(l)?l:f}return e.apply(f,r)}var i=pn(e),s=!n,o=t;if(s){var u=r;n=t}else if(!i){if(!r)throw new G;t=e}return a}function Ft(e){return dn(e)?Et(e):{}}function It(e){return Jt[e]}function qt(e,t,n){var r=(r=Pt.indexOf)===tr?U:r;return r}function Rt(e){return function(t,r,i,s){return typeof r!="boolean"&&r!=null&&(s=i,i=!s||s[r]!==t?r:n,r=!1),i!=null&&(i=Pt.createCallback(i,s)),e(t,r,i,s)}}function Ut(e){var t,r;return!!e&&bt.call(e)==D&&(t=e.constructor,!pn(t)||t instanceof t)?(tn(e,function(e,t){r=t}),r===n||dt.call(e,r)):!1}function zt(e){return Kt[e]}function Wt(e){return bt.call(e)==C}function Gt(e,t,r,i,s,o){var u=e;typeof t!="boolean"&&t!=null&&(i=r,r=t,t=!1);if(typeof r=="function"){r=typeof i=="undefined"?r:Pt.createCallback(r,i,1),u=r(u);if(typeof u!="undefined")return u;u=e}var a=dn(u);if(a){var f=bt.call(u);if(!B[f])return u;var l=Xt(u)}if(!a||!t)return a?l?et(u):Qt({},u):u;var c=Dt[f];switch(f){case L:case A:return new c(+u);case _:case H:return new c(u);case P:return c(u.source,m.exec(u))}var h=!s;s||(s=K()),o||(o=K());var p=s.length;while(p--)if(s[p]==e)return o[p];return u=l?c(u.length):{},l&&(dt.call(e,"index")&&(u.index=e.index),dt.call(e,"input")&&(u.input=e.input)),s.push(e),o.push(u),(l?Pn:nn)(e,function(e,i){u[i]=Gt(e,t,r,n,s,o)}),h&&(Y(s),Y(o)),u}function Yt(e,t,n){return Gt(e,!0,t,n)}function en(e,t,n){var r;return t=Pt.createCallback(t,n),nn(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function rn(e){var t=[];return tn(e,function(e,n){pn(e)&&t.push(n)}),t.sort()}function sn(e,t){return e?dt.call(e,t):!1}function on(e){var t=-1,n=$t(e),r=n.length,i={};while(++t<r){var s=n[t];i[e[s]]=s}return i}function un(e){return e===!0||e===!1||bt.call(e)==L}function an(e){return e?typeof e=="object"&&bt.call(e)==A:!1}function fn(e){return e?e.nodeType===1:!1}function ln(e){var t=!0;if(!e)return t;var n=bt.call(e),r=e.length;return n==k||n==H||n==C||n==D&&typeof r=="number"&&pn(e.splice)?!r:(nn(e,function(){return t=!1}),t)}function cn(e,t,n,r,i,s){var o=n===u;if(typeof n=="function"&&!o){n=Pt.createCallback(n,r,2);var a=n(e,t);if(typeof a!="undefined")return!!a}if(e===t)return e!==0||1/e==1/t;var f=typeof e,l=typeof t;if(e===e&&(!e||f!="function"&&f!="object")&&(!t||l!="function"&&l!="object"))return!1;if(e==null||t==null)return e===t;var c=bt.call(e),h=bt.call(t);c==C&&(c=D),h==C&&(h=D);if(c!=h)return!1;switch(c){case L:case A:return+e==+t;case _:return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case P:case H:return e==W(t)}var p=c==k;if(!p){if(dt.call(e,"__wrapped__ ")||dt.call(t,"__wrapped__"))return cn(e.__wrapped__||e,t.__wrapped__||t,n,r,i,s);if(c!=D)return!1;var d=e.constructor,v=t.constructor;if(d!=v&&!(pn(d)&&d instanceof d&&pn(v)&&v instanceof v))return!1}var m=!i;i||(i=K()),s||(s=K());var g=i.length;while(g--)if(i[g]==e)return s[g]==t;var y=0;a=!0,i.push(e),s.push(t);if(p){g=e.length,y=t.length,a=y==e.length;if(!a&&!o)return a;while(y--){var b=g,w=t[y];if(o){while(b--)if(a=cn(e[b],w,n,r,i,s))break}else if(!(a=cn(e[y],w,n,r,i,s)))break}return a}return tn(t,function(t,o,u){if(dt.call(u,o))return y++,a=dt.call(e,o)&&cn(e[o],t,n,r,i,s)}),a&&!o&&tn(e,function(e,t,n){if(dt.call(n,t))return a=--y>-1}),m&&(Y(i),Y(s)),a}function hn(e){return xt(e)&&!Tt(parseFloat(e))}function pn(e){return typeof e=="function"}function dn(e){return!!e&&!!j[typeof e]}function vn(e){return gn(e)&&e!=+e}function mn(e){return e===null}function gn(e){return typeof e=="number"||bt.call(e)==_}function bn(e){return e?typeof e=="object"&&bt.call(e)==P:!1}function wn(e){return typeof e=="string"||bt.call(e)==H}function En(e){return typeof e=="undefined"}function Sn(e,t,n){var r=arguments,i=0,s=2;if(!dn(e))return e;if(n===u)var o=r[3],a=r[4],f=r[5];else{var l=!0;a=K(),f=K(),typeof n!="number"&&(s=r.length),s>3&&typeof r[s-2]=="function"?o=Pt.createCallback(r[--s-1],r[s--],2):s>2&&typeof r[s-1]=="function"&&(o=r[--s])}while(++i<s)(Xt(r[i])?Pn:nn)(r[i],function(t,n){var r,i,s=t,l=e[n];if(t&&((i=Xt(t))||yn(t))){var c=a.length;while(c--)if(r=a[c]==t){l=f[c];break}if(!r){var h;if(o){s=o(l,t);if(h=typeof s!="undefined")l=s}h||(l=i?Xt(l)?l:[]:yn(l)?l:{}),a.push(t),f.push(l),h||(l=Sn(l,t,u,o,a,f))}}else o&&(s=o(l,t),typeof s=="undefined"&&(s=t)),typeof s!="undefined"&&(l=s);e[n]=l});return l&&(Y(a),Y(f)),e}function xn(e,t,n){var r=qt(),i=typeof t=="function",s={};if(i)t=Pt.createCallback(t,n);else var o=lt.apply(rt,Ot.call(arguments,1));return tn(e,function(e,n,u){if(i?!t(e,n,u):r(o,n)<0)s[n]=e}),s}function Tn(e){var t=-1,n=$t(e),i=n.length,s=r(i);while(++t<i){var o=n[t];s[t]=[o,e[o]]}return s}function Nn(e,t,n){var r={};if(typeof t!="function"){var i=-1,s=lt.apply(rt,Ot.call(arguments,1)),o=dn(e)?s.length:0;while(++i<o){var u=s[i];u in e&&(r[u]=e[u])}}else t=Pt.createCallback(t,n),tn(e,function(e,n,i){t(e,n,i)&&(r[n]=e)});return r}function Cn(e,t,n,r){var i=Xt(e);t=Pt.createCallback(t,r,4);if(n==null)if(i)n=[];else{var s=e&&e.constructor,o=s&&s.prototype;n=Ft(o)}return(i?Pn:nn)(e,function(e,r,i){return t(n,e,r,i)}),n}function kn(e){var t=-1,n=$t(e),i=n.length,s=r(i);while(++t<i)s[t]=e[n[t]];return s}function Ln(e){var t=-1,n=lt.apply(rt,Ot.call(arguments,1)),i=n.length,s=r(i);while(++t<i)s[t]=e[n[t]];return s}function An(e,t,n){var r=-1,i=qt(),s=e?e.length:0,o=!1;return n=(n<0?Ct(0,s+n):n)||0,s&&typeof s=="number"?o=(wn(e)?e.indexOf(t,n):i(e,t,n))>-1:nn(e,function(e){if(++r>=n)return!(o=e===t)}),o}function On(e,t,n){var r={};return t=Pt.createCallback(t,n),Pn(e,function(e,n,i){n=W(t(e,n,i)),dt.call(r,n)?r[n]++:r[n]=1}),r}function Mn(e,t,n){var r=!0;t=Pt.createCallback(t,n);var i=-1,s=e?e.length:0;if(typeof s=="number"){while(++i<s)if(!(r=!!t(e[i],i,e)))break}else nn(e,function(e,n,i){return r=!!t(e,n,i)});return r}function _n(e,t,n){var r=[];t=Pt.createCallback(t,n);var i=-1,s=e?e.length:0;if(typeof s=="number")while(++i<s){var o=e[i];t(o,i,e)&&r.push(o)}else nn(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function Dn(e,t,n){t=Pt.createCallback(t,n);var r=-1,i=e?e.length:0;if(typeof i!="number"){var o;return nn(e,function(e,n,r){if(t(e,n,r))return o=e,!1}),o}while(++r<i){var s=e[r];if(t(s,r,e))return s}}function Pn(e,t,n){var r=-1,i=e?e.length:0;t=t&&typeof n=="undefined"?t:Pt.createCallback(t,n);if(typeof i=="number"){while(++r<i)if(t(e[r],r,e)===!1)break}else nn(e,t);return e}function Hn(e,t,n){var r={};return t=Pt.createCallback(t,n),Pn(e,function(e,n,i){n=W(t(e,n,i)),(dt.call(r,n)?r[n]:r[n]=[]).push(e)}),r}function Bn(e,t){var n=Ot.call(arguments,2),i=-1,s=typeof t=="function",o=e?e.length:0,u=r(typeof o=="number"?o:0);return Pn(e,function(e){u[++i]=(s?t:e[t]).apply(e,n)}),u}function jn(e,t,n){var i=-1,s=e?e.length:0;t=Pt.createCallback(t,n);if(typeof s=="number"){var o=r(s);while(++i<s)o[i]=t(e[i],i,e)}else o=[],nn(e,function(e,n,r){o[++i]=t(e,n,r)});return o}function Fn(e,t,n){var r=-Infinity,i=r;if(!t&&Xt(e)){var s=-1,o=e.length;while(++s<o){var u=e[s];u>i&&(i=u)}}else t=!t&&wn(e)?X:Pt.createCallback(t,n),Pn(e,function(e,n,s){var o=t(e,n,s);o>r&&(r=o,i=e)});return i}function In(e,t,n){var r=Infinity,i=r;if(!t&&Xt(e)){var s=-1,o=e.length;while(++s<o){var u=e[s];u<i&&(i=u)}}else t=!t&&wn(e)?X:Pt.createCallback(t,n),Pn(e,function(e,n,s){var o=t(e,n,s);o<r&&(r=o,i=e)});return i}function qn(e,t){var n=-1,i=e?e.length:0;if(typeof i=="number"){var s=r(i);while(++n<i)s[n]=e[n][t]}return s||jn(e,t)}function Rn(e,t,n,r){if(!e)return n;var i=arguments.length<3;t=Pt.createCallback(t,r,4);var s=-1,o=e.length;if(typeof o=="number"){i&&(n=e[++s]);while(++s<o)n=t(n,e[s],s,e)}else nn(e,function(e,r,s){n=i?(i=!1,e):t(n,e,r,s)});return n}function Un(e,t,n,r){var i=e,s=e?e.length:0,o=arguments.length<3;if(typeof s!="number"){var u=$t(e);s=u.length}return t=Pt.createCallback(t,r,4),Pn(e,function(e,r,a){r=u?u[--s]:--s,n=o?(o=!1,i[r]):t(n,i[r],r,a)}),n}function zn(e,t,n){return t=Pt.createCallback(t,n),_n(e,function(e,n,r){return!t(e,n,r)})}function Wn(e){var t=-1,n=e?e.length:0,i=r(typeof n=="number"?n:0);return Pn(e,function(e){var n=ct(At()*(++t+1));i[t]=i[n],i[n]=e}),i}function Xn(e){var t=e?e.length:0;return typeof t=="number"?t:$t(e).length}function Vn(e,t,n){var r;t=Pt.createCallback(t,n);var i=-1,s=e?e.length:0;if(typeof s=="number"){while(++i<s)if(r=t(e[i],i,e))break}else nn(e,function(e,n,i){return!(r=t(e,n,i))});return!!r}function $n(e,t,n){var i=-1,s=e?e.length:0,o=r(typeof s=="number"?s:0);t=Pt.createCallback(t,n),Pn(e,function(e,n,r){var s=o[++i]=Q();s.criteria=t(e,n,r),s.index=i,s.value=e}),s=o.length,o.sort(V);while(s--){var u=o[s];o[s]=u.value,Z(u)}return o}function Jn(e){return e&&typeof e.length=="number"?et(e):kn(e)}function Qn(e){var t=-1,n=e?e.length:0,r=[];while(++t<n){var i=e[t];i&&r.push(i)}return r}function Gn(e){var t=-1,n=qt(),r=e?e.length:0,i=lt.apply(rt,Ot.call(arguments,1)),s=[],o=r>=f&&n===U;if(o){var u=$(i);u?(n=z,i=u):o=!1}while(++t<r){var a=e[t];n(i,a)<0&&s.push(a)}return o&&Z(i),s}function Yn(e,t,n){var r=-1,i=e?e.length:0;t=Pt.createCallback(t,n);while(++r<i)if(t(e[r],r,e))return r;return-1}function Zn(e,t,n){if(e){var r=0,i=e.length;if(typeof t!="number"&&t!=null){var s=-1;t=Pt.createCallback(t,n);while(++s<i&&t(e[s],s,e))r++}else{r=t;if(r==null||n)return e[0]}return et(e,0,kt(Ct(0,r),i))}}function tr(e,t,n){if(typeof n=="number"){var r=e?e.length:0;n=n<0?Ct(0,r+n):n||0}else if(n){var i=ar(e,t);return e[i]===t?i:-1}return e?U(e,t,n):-1}function nr(e,t,n){if(!e)return[];var r=0,i=e.length;if(typeof t!="number"&&t!=null){var s=i;t=Pt.createCallback(t,n);while(s--&&t(e[s],s,e))r++}else r=t==null||n?1:t||r;return et(e,0,kt(Ct(0,i-r),i))}function rr(e){var t=arguments,n=t.length,r=-1,i=K(),s=-1,o=qt(),u=e?e.length:0,a=[],l=K();while(++r<n){var c=t[r];i[r]=o===U&&(c?c.length:0)>=f&&$(r?t[r]:l)}e:while(++s<u){var h=i[0];c=e[s];if((h?z(h,c):o(l,c))<0){r=n,(h||l).push(c);while(--r){h=i[r];if((h?z(h,c):o(t[r],c))<0)continue e}a.push(c)}}while(n--)h=i[n],h&&Z(h);return Y(i),Y(l),a}function ir(e,t,n){if(e){var r=0,i=e.length;if(typeof t!="number"&&t!=null){var s=i;t=Pt.createCallback(t,n);while(s--&&t(e[s],s,e))r++}else{r=t;if(r==null||n)return e[i-1]}return et(e,Ct(0,i-r))}}function sr(e,t,n){var r=e?e.length:0;typeof n=="number"&&(r=(n<0?Ct(0,r+n):kt(n,r-1))+1);while(r--)if(e[r]===t)return r;return-1}function or(e,t,n){e=+e||0,n=+n||1,t==null&&(t=e,e=0);var i=-1,s=Ct(0,at((t-e)/n)),o=r(s);while(++i<s)o[i]=e,e+=n;return o}function ur(e,t,n){if(typeof t!="number"&&t!=null){var r=0,i=-1,s=e?e.length:0;t=Pt.createCallback(t,n);while(++i<s&&t(e[i],i,e))r++}else r=t==null||n?1:Ct(0,t);return et(e,r)}function ar(e,t,n,r){var i=0,s=e?e.length:i;n=n?Pt.createCallback(n,r,1):Mr,t=n(t);while(i<s){var o=i+s>>>1;n(e[o])<t?i=o+1:s=o}return i}function fr(e){return Xt(e)||(arguments[0]=e?Ot.call(e):rt),lr(lt.apply(rt,arguments))}function cr(e){var t=-1,n=e?Fn(qn(e,"length")):0,i=r(n<0?0:n);while(++t<n)i[t]=qn(e,t);return i}function hr(e){return Gn(e,Ot.call(arguments,1))}function pr(e){return e?cr(arguments):[]}function dr(e,t){var n=-1,r=e?e.length:0,i={};while(++n<r){var s=e[n];t?i[s]=t[n]:i[s[0]]=s[1]}return i}function vr(e,t){return e<1?t():function(){if(--e<1)return t.apply(this,arguments)}}function mr(e,t){return Bt.fastBind||wt&&arguments.length>2?wt.call.apply(wt,arguments):jt(e,t,Ot.call(arguments,2))}function gr(e){var t=arguments.length>1?lt.apply(rt,Ot.call(arguments,1)):rn(e),n=-1,r=t.length;while(++n<r){var i=t[n];e[i]=mr(e[i],e)}return e}function yr(e,t){return jt(e,t,Ot.call(arguments,2),u)}function br(){var e=arguments;return function(){var t=arguments,n=e.length;while(n--)t=[e[n].apply(this,t)];return t[0]}}function wr(e,t,n){if(e==null)return Mr;var r=typeof e;if(r!="function"){if(r!="object")return function(t){return t[e]};var i=$t(e);return function(t){var n=i.length,r=!1;while(n--)if(!(r=cn(t[i[n]],e[i[n]],u)))break;return r}}return typeof t=="undefined"||y&&!y.test(ht.call(e))?e:n===1?function(n){return e.call(t,n)}:n===2?function(n,r){return e.call(t,n,r)}:n===4?function(n,r,i,s){return e.call(t,n,r,i,s)}:function(n,r,i){return e.call(t,n,r,i)}}function Er(e,t,n){function p(){ft(l),ft(c),u=0,l=c=null}function d(){var t=h&&(!m||u>1);p(),t&&(f!==!1&&(a=new s),i=e.apply(o,r))}function v(){p();if(h||f!==t)a=new s,i=e.apply(o,r)}var r,i,o,u=0,a=0,f=!1,l=null,c=null,h=!0;t=Ct(0,t||0);if(n===!0){var m=!0;h=!1}else dn(n)&&(m=n.leading,f="maxWait"in n&&Ct(t,n.maxWait||0),h="trailing"in n?n.trailing:h);return function(){r=arguments,o=this,u++,ft(c);if(f===!1)m&&u<2&&(i=e.apply(o,r));else{var n=new s;!l&&!m&&(a=n);var h=f-(n-a);h<=0?(ft(l),l=null,a=n,i=e.apply(o,r)):l||(l=yt(v,h))}return t!==f&&(c=yt(d,t)),i}}function Sr(e){var t=Ot.call(arguments,1);return yt(function(){e.apply(n,t)},1)}function xr(e,t){var r=Ot.call(arguments,2);return yt(function(){e.apply(n,r)},t)}function Tr(e,t){function n(){var r=n.cache,i=a+(t?t.apply(this,arguments):arguments[0]);return dt.call(r,i)?r[i]:r[i]=e.apply(this,arguments)}return n.cache={},n}function Nr(e){var t,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function Cr(e){return jt(e,Ot.call(arguments,1))}function kr(e){return jt(e,Ot.call(arguments,1),null,u)}function Lr(e,t,n){var r=!0,i=!0;n===!1?r=!1:dn(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),n=Q(),n.leading=r,n.maxWait=t,n.trailing=i;var s=Er(e,t,n);return Z(n),s}function Ar(e,t){return function(){var n=[e];return vt.apply(n,arguments),t.apply(this,n)}}function Or(e){return e==null?"":W(e).replace(S,It)}function Mr(e){return e}function _r(e){Pn(rn(e),function(t){var n=Pt[t]=e[t];Pt.prototype[t]=function(){var e=this.__wrapped__,t=[e];vt.apply(t,arguments);var r=n.apply(Pt,t);return e&&typeof e=="object"&&e===r?this:new Ht(r)}})}function Dr(){return e._=ot,this}function Hr(e,t){e==null&&t==null&&(t=1),e=+e||0,t==null?(t=e,e=0):t=+t||0;var n=At();return e%1||t%1?e+kt(n*(t-e+parseFloat("1e-"+((n+"").length-1))),t):e+ct(n*(t-e+1))}function Br(e,t){var r=e?e[t]:n;return pn(r)?e[t]():r}function jr(e,t,r){var i=Pt.templateSettings;e||(e=""),r=Zt({},r,i);var s=Zt({},r.imports,i.imports),o=$t(s),u=kn(s),a,f=0,d=r.interpolate||E,m="__p += '",y=R((r.escape||E).source+"|"+d.source+"|"+(d===g?v:E).source+"|"+(r.evaluate||E).source+"|$","g");e.replace(y,function(t,n,r,i,s,o){return r||(r=i),m+=e.slice(f,o).replace(x,J),n&&(m+="' +\n__e("+n+") +\n'"),s&&(a=!0,m+="';\n"+s+";\n__p += '"),r&&(m+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=o+t.length,t}),m+="';\n";var b=r.variable,w=b;w||(b="obj",m="with ("+b+") {\n"+m+"\n}\n"),m=(a?m.replace(c,""):m).replace(h,"$1").replace(p,"$1;"),m="function("+b+") {\n"+(w?"":b+" || ("+b+" = {});\n")+"var __t, __p = '', __e = _.escape"+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var S="\n/*\n//@ sourceURL="+(r.sourceURL||"/lodash/template/source["+N++ +"]")+"\n*/";try{var T=l(o,"return "+m+S).apply(n,u)}catch(C){throw C.source=m,C}return t?T(t):(T.source=m,T)}function Fr(e,t,n){e=(e=+e)>-1?e:0;var i=-1,s=r(e);t=Pt.createCallback(t,n,1);while(++i<e)s[i]=t(i);return s}function Ir(e){return e==null?"":W(e).replace(d,zt)}function qr(e){var t=++o;return W(e==null?"":e)+t}function Rr(e,t){return t(e),e}function Ur(){return W(this.__wrapped__)}function zr(){return this.__wrapped__}e=e?nt.defaults(t.Object(),e,nt.pick(t,T)):t;var r=e.Array,i=e.Boolean,s=e.Date,l=e.Function,O=e.Math,F=e.Number,I=e.Object,R=e.RegExp,W=e.String,G=e.TypeError,rt=[],it=I.prototype,st=W.prototype,ot=e._,ut=R("^"+W(it.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),at=O.ceil,ft=e.clearTimeout,lt=rt.concat,ct=O.floor,ht=l.prototype.toString,pt=ut.test(pt=I.getPrototypeOf)&&pt,dt=it.hasOwnProperty,vt=rt.push,mt=it.propertyIsEnumerable,gt=e.setImmediate,yt=e.setTimeout,bt=it.toString,wt=ut.test(wt=bt.bind)&&wt,Et=ut.test(Et=I.create)&&Et,St=ut.test(St=r.isArray)&&St,xt=e.isFinite,Tt=e.isNaN,Nt=ut.test(Nt=I.keys)&&Nt,Ct=O.max,kt=O.min,Lt=e.parseInt,At=O.random,Ot=rt.slice,Mt=ut.test(e.attachEvent),_t=wt&&!/\n|true/.test(wt+Mt),Dt={};Dt[k]=r,Dt[L]=i,Dt[A]=s,Dt[M]=l,Dt[D]=I,Dt[_]=F,Dt[P]=R,Dt[H]=W,Ht.prototype=Pt.prototype;var Bt=Pt.support={};Bt.fastBind=wt&&!_t,Pt.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:g,variable:"",imports:{_:Pt}};var Xt=St,Vt=function(e){var t,n=e,r=[];if(!n)return r;if(!j[typeof e])return r;for(t in n)dt.call(n,t)&&r.push(t);return r},$t=Nt?function(e){return dn(e)?Nt(e):[]}:Vt,Jt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Kt=on(Jt),Qt=function(e,t,n){var r,i=e,s=i;if(!i)return s;var o=arguments,u=0,a=typeof n=="number"?2:o.length;if(a>3&&typeof o[a-2]=="function")var f=Pt.createCallback(o[--a-1],o[a--],2);else a>2&&typeof o[a-1]=="function"&&(f=o[--a]);while(++u<a){i=o[u];if(i&&j[typeof i]){var l=-1,c=j[typeof i]&&$t(i),h=c?c.length:0;while(++l<h)r=c[l],s[r]=f?f(s[r],i[r]):i[r]}}return s},Zt=function(e,t,n){var r,i=e,s=i;if(!i)return s;var o=arguments,u=0,a=typeof n=="number"?2:o.length;while(++u<a){i=o[u];if(i&&j[typeof i]){var f=-1,l=j[typeof i]&&$t(i),c=l?l.length:0;while(++f<c)r=l[f],typeof s[r]=="undefined"&&(s[r]=i[r])}}return s},tn=function(e,t,n){var r,i=e,s=i;if(!i)return s;if(!j[typeof i])return s;t=t&&typeof n=="undefined"?t:Pt.createCallback(t,n);for(r in i)if(t(i[r],r,e)===!1)return s;return s},nn=function(e,t,n){var r,i=e,s=i;if(!i)return s;if(!j[typeof i])return s;t=t&&typeof n=="undefined"?t:Pt.createCallback(t,n);var o=-1,u=j[typeof i]&&$t(i),a=u?u.length:0;while(++o<a){r=u[o];if(t(i[r],r,e)===!1)return s}return s},yn=function(e){if(!e||bt.call(e)!=D)return!1;var t=e.valueOf,n=typeof t=="function"&&(n=pt(t))&&pt(n);return n?e==n||pt(e)==n:Ut(e)},Kn=_n,er=Rt(function Wr(e,t,n){var r=-1,i=e?e.length:0,s=[];while(++r<i){var o=e[r];n&&(o=n(o,r,e)),Xt(o)?vt.apply(s,t?o:Wr(o)):s.push(o)}return s}),lr=Rt(function(e,t,n){var r=-1,i=qt(),s=e?e.length:0,o=[],u=!t&&s>=f&&i===U,a=n||u?K():o;if(u){var l=$(a);l?(i=z,a=l):(u=!1,a=n?a:(Y(a),o))}while(++r<s){var c=e[r],h=n?n(c,r,e):c;if(t?!r||a[a.length-1]!==h:i(a,h)<0)(n||u)&&a.push(h),o.push(c)}return u?(Y(a.array),Z(a)):n&&Y(a),o});_t&&q&&typeof gt=="function"&&(Sr=mr(gt,e));var Pr=Lt(b+"08")==8?Lt:function(e,t){return Lt(wn(e)?e.replace(w,""):e,t||0)};return Pt.after=vr,Pt.assign=Qt,Pt.at=Ln,Pt.bind=mr,Pt.bindAll=gr,Pt.bindKey=yr,Pt.compact=Qn,Pt.compose=br,Pt.countBy=On,Pt.createCallback=wr,Pt.debounce=Er,Pt.defaults=Zt,Pt.defer=Sr,Pt.delay=xr,Pt.difference=Gn,Pt.filter=_n,Pt.flatten=er,Pt.forEach=Pn,Pt.forIn=tn,Pt.forOwn=nn,Pt.functions=rn,Pt.groupBy=Hn,Pt.initial=nr,Pt.intersection=rr,Pt.invert=on,Pt.invoke=Bn,Pt.keys=$t,Pt.map=jn,Pt.max=Fn,Pt.memoize=Tr,Pt.merge=Sn,Pt.min=In,Pt.omit=xn,Pt.once=Nr,Pt.pairs=Tn,Pt.partial=Cr,Pt.partialRight=kr,Pt.pick=Nn,Pt.pluck=qn,Pt.range=or,Pt.reject=zn,Pt.rest=ur,Pt.shuffle=Wn,Pt.sortBy=$n,Pt.tap=Rr,Pt.throttle=Lr,Pt.times=Fr,Pt.toArray=Jn,Pt.transform=Cn,Pt.union=fr,Pt.uniq=lr,Pt.unzip=cr,Pt.values=kn,Pt.where=Kn,Pt.without=hr,Pt.wrap=Ar,Pt.zip=pr,Pt.zipObject=dr,Pt.collect=jn,Pt.drop=ur,Pt.each=Pn,Pt.extend=Qt,Pt.methods=rn,Pt.object=dr,Pt.select=_n,Pt.tail=ur,Pt.unique=lr,_r(Pt),Pt.chain=Pt,Pt.prototype.chain=function(){return this},Pt.clone=Gt,Pt.cloneDeep=Yt,Pt.contains=An,Pt.escape=Or,Pt.every=Mn,Pt.find=Dn,Pt.findIndex=Yn,Pt.findKey=en,Pt.has=sn,Pt.identity=Mr,Pt.indexOf=tr,Pt.isArguments=Wt,Pt.isArray=Xt,Pt.isBoolean=un,Pt.isDate=an,Pt.isElement=fn,Pt.isEmpty=ln,Pt.isEqual=cn,Pt.isFinite=hn,Pt.isFunction=pn,Pt.isNaN=vn,Pt.isNull=mn,Pt.isNumber=gn,Pt.isObject=dn,Pt.isPlainObject=yn,Pt.isRegExp=bn,Pt.isString=wn,Pt.isUndefined=En,Pt.lastIndexOf=sr,Pt.mixin=_r,Pt.noConflict=Dr,Pt.parseInt=Pr,Pt.random=Hr,Pt.reduce=Rn,Pt.reduceRight=Un,Pt.result=Br,Pt.runInContext=tt,Pt.size=Xn,Pt.some=Vn,Pt.sortedIndex=ar,Pt.template=jr,Pt.unescape=Ir,Pt.uniqueId=qr,Pt.all=Mn,Pt.any=Vn,Pt.detect=Dn,Pt.findWhere=Dn,Pt.foldl=Rn,Pt.foldr=Un,Pt.include=An,Pt.inject=Rn,nn(Pt,function(e,t){Pt.prototype[t]||(Pt.prototype[t]=function(){var t=[this.__wrapped__];return vt.apply(t,arguments),e.apply(Pt,t)})}),Pt.first=Zn,Pt.last=ir,Pt.take=Zn,Pt.head=Zn,nn(Pt,function(e,t){Pt.prototype[t]||(Pt.prototype[t]=function(t,n){var r=e(this.__wrapped__,t,n);return t==null||n&&typeof t!="function"?r:new Ht(r)})}),Pt.VERSION="1.3.1",Pt.prototype.toString=Ur,Pt.prototype.value=zr,Pt.prototype.valueOf=zr,Pn(["join","pop","shift"],function(e){var t=rt[e];Pt.prototype[e]=function(){return t.apply(this.__wrapped__,arguments)}}),Pn(["push","reverse","sort","unshift"],function(e){var t=rt[e];Pt.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),Pn(["concat","slice","splice"],function(e){var t=rt[e];Pt.prototype[e]=function(){return new Ht(t.apply(this.__wrapped__,arguments))}}),Pt}var n,r=[],s=[],o=0,u={},a=+(new Date)+"",f=75,l=40,c=/\b__p \+= '';/g,h=/\b(__p \+=) '' \+/g,p=/(__e\(.*?\)|\b__t\)) \+\n'';/g,d=/&(?:amp|lt|gt|quot|#39);/g,v=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,m=/\w*$/,g=/<%=([\s\S]+?)%>/g,y=(y=/\bthis\b/)&&y.test(tt)&&y,b=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",w=RegExp("^["+b+"]*0+(?=.$)"),E=/($^)/,S=/[&<>"']/g,x=/['\n\r\t\u2028\u2029\\]/g,T=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setImmediate","setTimeout"],N=0,C="[object Arguments]",k="[object Array]",L="[object Boolean]",A="[object Date]",O="[object Error]",M="[object Function]",_="[object Number]",D="[object Object]",P="[object RegExp]",H="[object String]",B={};B[M]=!1,B[C]=B[k]=B[L]=B[A]=B[_]=B[D]=B[P]=B[H]=!0;var j={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,"undefined":!1},F={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},I=j[typeof e]&&e,q=j[typeof module]&&module&&module.exports==I&&module,R=j[typeof global]&&global;R&&(R.global===R||R.window===R)&&(t=R);var nt=tt();typeof i=="function"&&typeof i.amd=="object"&&i.amd?(t._=nt,i("lodash",[],function(){return nt})):I&&!I.nodeType?q?(q.exports=nt)._=nt:I._=nt:t._=nt}(this),window.Modernizr=function(e,t,n){function A(e){f.cssText=e}function O(e,t){return A(p.join(e+";")+(t||""))}function M(e,t){return typeof e===t}function _(e,t){return!!~(""+e).indexOf(t)}function D(e,t){for(var r in e){var i=e[r];if(!_(i,"-")&&f[i]!==n)return t=="pfx"?i:!0}return!1}function P(e,t,r){for(var i in e){var s=t[e[i]];if(s!==n)return r===!1?e[i]:M(s,"function")?s.bind(r||t):s}return!1}function H(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+v.join(r+" ")+r).split(" ");return M(t,"string")||M(t,"undefined")?D(i,t):(i=(e+" "+m.join(r+" ")+r).split(" "),P(i,t,n))}function B(){i.input=function(n){for(var r=0,i=n.length;r<i;r++)w[n[r]]=n[r]in l;return w.list&&(w.list=!!t.createElement("datalist")&&!!e.HTMLDataListElement),w}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),i.inputtypes=function(e){for(var r=0,i,s,u,a=e.length;r<a;r++)l.setAttribute("type",s=e[r]),i=l.type!=="text",i&&(l.value=c,l.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(s)&&l.style.WebkitAppearance!==n?(o.appendChild(l),u=t.defaultView,i=u.getComputedStyle&&u.getComputedStyle(l,null).WebkitAppearance!=="textfield"&&l.offsetHeight!==0,o.removeChild(l)):/^(search|tel)$/.test(s)||(/^(url|email)$/.test(s)?i=l.checkValidity&&l.checkValidity()===!1:i=l.value!=c)),b[e[r]]=!!i;return b}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var r="2.6.2",i={},s=!0,o=t.documentElement,u="modernizr",a=t.createElement(u),f=a.style,l=t.createElement("input"),c=":)",h={}.toString,p=" -webkit- -moz- -o- -ms- ".split(" "),d="Webkit Moz O ms",v=d.split(" "),m=d.toLowerCase().split(" "),g={svg:"http://www.w3.org/2000/svg"},y={},b={},w={},E=[],S=E.slice,x,T=function(e,n,r,i){var s,a,f,l,c=t.createElement("div"),h=t.body,p=h||t.createElement("body");if(parseInt(r,10))while(r--)f=t.createElement("div"),f.id=i?i[r]:u+(r+1),c.appendChild(f);return s=["&#173;",'<style id="s',u,'">',e,"</style>"].join(""),c.id=u,(h?c:p).innerHTML+=s,p.appendChild(c),h||(p.style.background="",p.style.overflow="hidden",l=o.style.overflow,o.style.overflow="hidden",o.appendChild(p)),a=n(c,e),h?c.parentNode.removeChild(c):(p.parentNode.removeChild(p),o.style.overflow=l),!!a},N=function(t){var n=e.matchMedia||e.msMatchMedia;if(n)return n(t).matches;var r;return T("@media "+t+" { #"+u+" { position: absolute; } }",function(t){r=(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle)["position"]=="absolute"}),r},C=function(){function r(r,i){i=i||t.createElement(e[r]||"div"),r="on"+r;var s=r in i;return s||(i.setAttribute||(i=t.createElement("div")),i.setAttribute&&i.removeAttribute&&(i.setAttribute(r,""),s=M(i[r],"function"),M(i[r],"undefined")||(i[r]=n),i.removeAttribute(r))),i=null,s}var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return r}(),k={}.hasOwnProperty,L;!M(k,"undefined")&&!M(k.call,"undefined")?L=function(e,t){return k.call(e,t)}:L=function(e,t){return t in e&&M(e.constructor.prototype[t],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if(typeof n!="function")throw new TypeError;var r=S.call(arguments,1),i=function(){if(this instanceof i){var e=function(){};e.prototype=n.prototype;var s=new e,o=n.apply(s,r.concat(S.call(arguments)));return Object(o)===o?o:s}return n.apply(t,r.concat(S.call(arguments)))};return i}),y.flexbox=function(){return H("flexWrap")},y.flexboxlegacy=function(){return H("boxDirection")},y.canvas=function(){var e=t.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")},y.canvastext=function(){return!!i.canvas&&!!M(t.createElement("canvas").getContext("2d").fillText,"function")},y.webgl=function(){return!!e.WebGLRenderingContext},y.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:T(["@media (",p.join("touch-enabled),("),u,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=e.offsetTop===9}),n},y.geolocation=function(){return"geolocation"in navigator},y.postmessage=function(){return!!e.postMessage},y.websqldatabase=function(){return!!e.openDatabase},y.indexedDB=function(){return!!H("indexedDB",e)},y.hashchange=function(){return C("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},y.history=function(){return!!e.history&&!!history.pushState},y.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},y.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},y.rgba=function(){return A("background-color:rgba(150,255,150,.5)"),_(f.backgroundColor,"rgba")},y.hsla=function(){return A("background-color:hsla(120,40%,100%,.5)"),_(f.backgroundColor,"rgba")||_(f.backgroundColor,"hsla")},y.multiplebgs=function(){return A("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(f.background)},y.backgroundsize=function(){return H("backgroundSize")},y.borderimage=function(){return H("borderImage")},y.borderradius=function(){return H("borderRadius")},y.boxshadow=function(){return H("boxShadow")},y.textshadow=function(){return t.createElement("div").style.textShadow===""},y.opacity=function(){return O("opacity:.55"),/^0.55$/.test(f.opacity)},y.cssanimations=function(){return H("animationName")},y.csscolumns=function(){return H("columnCount")},y.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return A((e+"-webkit- ".split(" ").join(t+e)+p.join(n+e)).slice(0,-e.length)),_(f.backgroundImage,"gradient")},y.cssreflections=function(){return H("boxReflect")},y.csstransforms=function(){return!!H("transform")},y.csstransforms3d=function(){var e=!!H("perspective");return e&&"webkitPerspective"in o.style&&T("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,n){e=t.offsetLeft===9&&t.offsetHeight===3}),e},y.csstransitions=function(){return H("transition")},y.fontface=function(){var e;return T('@font-face {font-family:"font";src:url("https://")}',function(n,r){var i=t.getElementById("smodernizr"),s=i.sheet||i.styleSheet,o=s?s.cssRules&&s.cssRules[0]?s.cssRules[0].cssText:s.cssText||"":"";e=/src/i.test(o)&&o.indexOf(r.split(" ")[0])===0}),e},y.generatedcontent=function(){var e;return T(["#",u,"{font:0/0 a}#",u,':after{content:"',c,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},y.video=function(){var e=t.createElement("video"),n=!1;try{if(n=!!e.canPlayType)n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}catch(r){}return n},y.audio=function(){var e=t.createElement("audio"),n=!1;try{if(n=!!e.canPlayType)n=new Boolean(n),n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(r){}return n},y.localstorage=function(){try{return localStorage.setItem(u,u),localStorage.removeItem(u),!0}catch(e){return!1}},y.sessionstorage=function(){try{return sessionStorage.setItem(u,u),sessionStorage.removeItem(u),!0}catch(e){return!1}},y.webworkers=function(){return!!e.Worker},y.applicationcache=function(){return!!e.applicationCache},y.svg=function(){return!!t.createElementNS&&!!t.createElementNS(g.svg,"svg").createSVGRect},y.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==g.svg},y.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(h.call(t.createElementNS(g.svg,"animate")))},y.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(h.call(t.createElementNS(g.svg,"clipPath")))};for(var j in y)L(y,j)&&(x=j.toLowerCase(),i[x]=y[j](),E.push((i[x]?"":"no-")+x));return i.input||B(),i.addTest=function(e,t){if(typeof e=="object")for(var r in e)L(e,r)&&i.addTest(r,e[r]);else{e=e.toLowerCase();if(i[e]!==n)return i;t=typeof t=="function"?t():t,typeof s!="undefined"&&s&&(o.className+=" "+(t?"":"no-")+e),i[e]=t}return i},A(""),a=l=null,function(e,t){function l(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function c(){var e=g.elements;return typeof e=="string"?e.split(" "):e}function h(e){var t=a[e[o]];return t||(t={},u++,e[o]=u,a[u]=t),t}function p(e,n,s){n||(n=t);if(f)return n.createElement(e);s||(s=h(n));var o;return s.cache[e]?o=s.cache[e].cloneNode():i.test(e)?o=(s.cache[e]=s.createElem(e)).cloneNode():o=s.createElem(e),o.canHaveChildren&&!r.test(e)?s.frag.appendChild(o):o}function d(e,n){e||(e=t);if(f)return e.createDocumentFragment();n=n||h(e);var r=n.frag.cloneNode(),i=0,s=c(),o=s.length;for(;i<o;i++)r.createElement(s[i]);return r}function v(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return g.shivMethods?p(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+c().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(g,t.frag)}function m(e){e||(e=t);var n=h(e);return g.shivCSS&&!s&&!n.hasCSS&&(n.hasCSS=!!l(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),f||v(e,n),e}var n=e.html5||{},r=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,i=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,s,o="_html5shiv",u=0,a={},f;(function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",s="hidden"in e,f=e.childNodes.length==1||function(){t.createElement("a");var e=t.createDocumentFragment();return typeof e.cloneNode=="undefined"||typeof e.createDocumentFragment=="undefined"||typeof e.createElement=="undefined"}()}catch(n){s=!0,f=!0}})();var g={elements:n.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:n.shivCSS!==!1,supportsUnknownElements:f,shivMethods:n.shivMethods!==!1,type:"default",shivDocument:m,createElement:p,createDocumentFragment:d};e.html5=g,m(t)}(this,t),i._version=r,i._prefixes=p,i._domPrefixes=m,i._cssomPrefixes=v,i.mq=N,i.hasEvent=C,i.testProp=function(e){return D([e])},i.testAllProps=H,i.testStyles=T,i.prefixed=function(e,t,n){return t?H(e,t,n):H(e,"pfx")},o.className=o.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(s?" js "+E.join(" "):""),i}(this,this.document),i("modernizr",function(e){return function(){var t,n;return t||e.Modernizr}}(this)),i("wf-js-common/BrowserInfo",["require","modernizr"],function(e){function i(e){return n[e.prefixed("transition")]||!1}function s(e){var t,n,i,s=e.userAgent,o,u;for(t in r)if(r.hasOwnProperty(t)){n=r[t],o=n.vendor||null,u=n.name,o!==""&&o!==null?o===e.vendor&&(i=n):s.indexOf(u)!==-1&&(i=n);if(i)break}return i||r.chrome}var t=e("modernizr"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},r={chrome:{name:"Chrome",vendor:"Google Inc.",vendorPrefix:"webkit",mouseWheelEvent:"mousewheel"},firefox:{name:"Firefox",vendor:"",vendorPrefix:"moz",mouseWheelEvent:"DOMMouseScroll"},ie:{name:"MSIE",vendorPrefix:"ms",mouseWheelEvent:"wheel"},opera:{name:"OPR",vendor:"Opera Software ASA",vendorPrefix:"o",mouseWheelEvent:"mousewheel"},safari:{name:"Safari",vendor:"Apple Computer, Inc.",vendorPrefix:"webkit",mouseWheelEvent:"mousewheel"}},o=function(e){var t=e.window,n=e.eventTranslator,r=s(e.navigator);this.Events={TRANSITION_END:i(n),MOUSE_SCROLL:r.mouseWheelEvent,cancelEvent:function(e){e=e||t.event,e.preventDefault?(e.preventDefault(),e.stopPropagation()):(e.returnValue=!1,e.cancelBubble=!0)}},this.Browsers={Chrome:"Chrome",FireFox:"Firefox",IE:"MSIE",Opera:"OPR",Safari:"Safari"},this.devicePixelRatio=t.devicePixelRatio?t.devicePixelRatio:1,this.cssTransformProperty=n.prefixed("transform"),this.cssTransformOriginProperty=n.prefixed("transformOrigin"),this.cssTransitionProperty=n.prefixed("transition"),this.cssTransitionDurationProperty=n.prefixed("transitionDuration"),this.hasTouch="ontouchstart"in t,this.hasCssTransforms3d=!!n.csstransforms3d,this.getBrowser=function(){return r.name}};return new o({window:window,eventTranslator:t,navigator:navigator})}),i("wf-js-common/DestroyUtil",[],function(){var e={destroy:function(e){for(var t in e)e.hasOwnProperty(t)&&(e[t]=null);e._disposed=!0}};return e}),function(e,t){function r(){if(n.READY)return;n.event.determineEventTypes();for(var e in n.gestures)n.gestures.hasOwnProperty(e)&&n.detection.register(n.gestures[e]);n.event.onTouch(n.DOCUMENT,n.EVENT_MOVE,n.detection.detect),n.event.onTouch(n.DOCUMENT,n.EVENT_END,n.detection.detect),n.READY=!0}var n=function(e,t){return new n.Instance(e,t||{})};n.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},n.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,n.HAS_TOUCHEVENTS="ontouchstart"in e,n.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,n.NO_MOUSEEVENTS=n.HAS_TOUCHEVENTS&&navigator.userAgent.match(n.MOBILE_REGEX),n.EVENT_TYPES={},n.DIRECTION_DOWN="down",n.DIRECTION_LEFT="left",n.DIRECTION_UP="up",n.DIRECTION_RIGHT="right",n.POINTER_MOUSE="mouse",n.POINTER_TOUCH="touch",n.POINTER_PEN="pen",n.EVENT_START="start",n.EVENT_MOVE="move",n.EVENT_END="end",n.DOCUMENT=document,n.plugins={},n.READY=!1,n.Instance=function(e,t){var i=this;return r(),this.element=e,this.enabled=!0,this.options=n.utils.extend(n.utils.extend({},n.defaults),t||{}),this.options.stop_browser_behavior&&n.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),n.event.onTouch(e,n.EVENT_START,function(e){i.enabled&&n.detection.startDetect(i,e)}),this},n.Instance.prototype={on:function(t,n){var r=t.split(" ");for(var i=0;i<r.length;i++)this.element.addEventListener(r[i],n,!1);return this},off:function(t,n){var r=t.split(" ");for(var i=0;i<r.length;i++)this.element.removeEventListener(r[i],n,!1);return this},trigger:function(t,r){var i=n.DOCUMENT.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=r;var s=this.element;return n.utils.hasParent(r.target,s)&&(s=r.target),s.dispatchEvent(i),this},enable:function(t){return this.enabled=t,this}};var i=null,s=!1,o=!1;n.event={bindDom:function(e,t,n){var r=t.split(" ");for(var i=0;i<r.length;i++)e.addEventListener(r[i],n,!1)},onTouch:function(t,r,u){var a=this;this.bindDom(t,n.EVENT_TYPES[r],function(f){var l=f.type.toLowerCase();if(l.match(/mouse/)&&o)return;if(l.match(/touch/)||l.match(/pointerdown/)||l.match(/mouse/)&&f.which===1)s=!0;l.match(/touch|pointer/)&&(o=!0);var c=0;s&&(n.HAS_POINTEREVENTS&&r!=n.EVENT_END?c=n.PointerEvent.updatePointer(r,f):l.match(/touch/)?c=f.touches.length:o||(c=l.match(/up/)?0:1),c>0&&r==n.EVENT_END?r=n.EVENT_MOVE:c||(r=n.EVENT_END),!c&&i!==null?f=i:i=f,u.call(n.detection,a.collectEventData(t,r,f)),n.HAS_POINTEREVENTS&&r==n.EVENT_END&&(c=n.PointerEvent.updatePointer(r,f))),c||(i=null,s=!1,o=!1,n.PointerEvent.reset())})},determineEventTypes:function(){var t;n.HAS_POINTEREVENTS?t=n.PointerEvent.getEvents():n.NO_MOUSEEVENTS?t=["touchstart","touchmove","touchend touchcancel"]:t=["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],n.EVENT_TYPES[n.EVENT_START]=t[0],n.EVENT_TYPES[n.EVENT_MOVE]=t[1],n.EVENT_TYPES[n.EVENT_END]=t[2]},getTouchList:function(t){return n.HAS_POINTEREVENTS?n.PointerEvent.getTouchList():t.touches?t.touches:[{identifier:1,pageX:t.pageX,pageY:t.pageY,target:t.target}]},collectEventData:function(t,r,i){var s=this.getTouchList(i,r),o=n.POINTER_TOUCH;if(i.type.match(/mouse/)||n.PointerEvent.matchType(n.POINTER_MOUSE,i))o=n.POINTER_MOUSE;return{center:n.utils.getCenter(s),timeStamp:(new Date).getTime(),target:i.target,touches:s,eventType:r,pointerType:o,srcEvent:i,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return n.detection.stopDetect()}}}},n.PointerEvent={pointers:{},getTouchList:function(){var e=this,t=[];return Object.keys(e.pointers).sort().forEach(function(n){t.push(e.pointers[n])}),t},updatePointer:function(e,t){return e==n.EVENT_END?this.pointers={}:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t),Object.keys(this.pointers).length},matchType:function(e,t){if(!t.pointerType)return!1;var r={};return r[n.POINTER_MOUSE]=t.pointerType==t.MSPOINTER_TYPE_MOUSE||t.pointerType==n.POINTER_MOUSE,r[n.POINTER_TOUCH]=t.pointerType==t.MSPOINTER_TYPE_TOUCH||t.pointerType==n.POINTER_TOUCH,r[n.POINTER_PEN]=t.pointerType==t.MSPOINTER_TYPE_PEN||t.pointerType==n.POINTER_PEN,r[e]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},n.utils={extend:function(n,r,i){for(var s in r){if(n[s]!==t&&i)continue;n[s]=r[s]}return n},hasParent:function(e,t){while(e){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(t){var n=[],r=[];for(var i=0,s=t.length;i<s;i++)n.push(t[i].pageX),r.push(t[i].pageY);return{pageX:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2,pageY:(Math.min.apply(Math,r)+Math.max.apply(Math,r))/2}},getVelocity:function(t,n,r){return{x:Math.abs(n/t)||0,y:Math.abs(r/t)||0}},getAngle:function(t,n){var r=n.pageY-t.pageY,i=n.pageX-t.pageX;return Math.atan2(r,i)*180/Math.PI},getDirection:function(t,r){var i=Math.abs(t.pageX-r.pageX),s=Math.abs(t.pageY-r.pageY);return i>=s?t.pageX-r.pageX>0?n.DIRECTION_LEFT:n.DIRECTION_RIGHT:t.pageY-r.pageY>0?n.DIRECTION_UP:n.DIRECTION_DOWN},getDistance:function(t,n){var r=n.pageX-t.pageX,i=n.pageY-t.pageY;return Math.sqrt(r*r+i*i)},getScale:function(t,n){return t.length>=2&&n.length>=2?this.getDistance(n[0],n[1])/this.getDistance(t[0],t[1]):1},getRotation:function(t,n){return t.length>=2&&n.length>=2?this.getAngle(n[1],n[0])-this.getAngle(t[1],t[0]):0},isVertical:function(t){return t==n.DIRECTION_UP||t==n.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(t,n){var r,i=["webkit","khtml","moz","ms","o",""];if(!n||!t.style)return;for(var s=0;s<i.length;s++)for(var o in n)n.hasOwnProperty(o)&&(r=o,i[s]&&(r=i[s]+r.substring(0,1).toUpperCase()+r.substring(1)),t.style[r]=n[o]);n.userSelect=="none"&&(t.onselectstart=function(){return!1})}},n.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,r){if(this.current)return;this.stopped=!1,this.current={inst:t,startEvent:n.utils.extend({},r),lastEvent:!1,name:""},this.detect(r)},detect:function(t){if(!this.current||this.stopped)return;t=this.extendEventData(t);var r=this.current.inst.options;for(var i=0,s=this.gestures.length;i<s;i++){var o=this.gestures[i];if(!this.stopped&&r[o.name]!==!1&&o.handler.call(o,t,this.current.inst)===!1){this.stopDetect();break}}return this.current&&(this.current.lastEvent=t),t.eventType==n.EVENT_END&&!t.touches.length-1&&this.stopDetect(),t},stopDetect:function(){this.previous=n.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(t){var r=this.current.startEvent;if(r&&(t.touches.length!=r.touches.length||t.touches===r.touches)){r.touches=[];for(var i=0,s=t.touches.length;i<s;i++)r.touches.push(n.utils.extend({},t.touches[i]))}var o=t.timeStamp-r.timeStamp,u=t.center.pageX-r.center.pageX,a=t.center.pageY-r.center.pageY,f=n.utils.getVelocity(o,u,a);return n.utils.extend(t,{deltaTime:o,deltaX:u,deltaY:a,velocityX:f.x,velocityY:f.y,distance:n.utils.getDistance(r.center,t.center),angle:n.utils.getAngle(r.center,t.center),direction:n.utils.getDirection(r.center,t.center),scale:n.utils.getScale(r.touches,t.touches),rotation:n.utils.getRotation(r.touches,t.touches),startEvent:r}),t},register:function(r){var i=r.defaults||{};return i[r.name]===t&&(i[r.name]=!0),n.utils.extend(n.defaults,i,!0),r.index=r.index||1e3,this.gestures.push(r),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}},n.gestures=n.gestures||{},n.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(t,r){switch(t.eventType){case n.EVENT_START:clearTimeout(this.timer),n.detection.current.name=this.name,this.timer=setTimeout(function(){n.detection.current.name=="hold"&&r.trigger("hold",t)},r.options.hold_timeout);break;case n.EVENT_MOVE:t.distance>r.options.hold_threshold&&clearTimeout(this.timer);break;case n.EVENT_END:clearTimeout(this.timer)}}},n.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(t,r){if(t.eventType==n.EVENT_END){var i=n.detection.previous,s=!1;if(t.deltaTime>r.options.tap_max_touchtime||t.distance>r.options.tap_max_distance)return;i&&i.name=="tap"&&t.timeStamp-i.lastEvent.timeStamp<r.options.doubletap_interval&&t.distance<r.options.doubletap_distance&&(r.trigger("doubletap",t),s=!0);if(!s||r.options.tap_always)n.detection.current.name="tap",r.trigger(n.detection.current.name,t)}}},n.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function(t,r){if(t.eventType==n.EVENT_END){if(r.options.swipe_max_touches>0&&t.touches.length>r.options.swipe_max_touches)return;if(t.velocityX>r.options.swipe_velocity||t.velocityY>r.options.swipe_velocity)r.trigger(this.name,t),r.trigger(this.name+t.direction,t)}}},n.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(t,r){if(n.detection.current.name!=this.name&&this.triggered){r.trigger(this.name+"end",t),this.triggered=!1;return}if(r.options.drag_max_touches>0&&t.touches.length>r.options.drag_max_touches)return;switch(t.eventType){case n.EVENT_START:this.triggered=!1;break;case n.EVENT_MOVE:if(t.distance<r.options.drag_min_distance&&n.detection.current.name!=this.name)return;n.detection.current.name=this.name;if(n.detection.current.lastEvent.drag_locked_to_axis||r.options.drag_lock_to_axis&&r.options.drag_lock_min_distance<=t.distance)t.drag_locked_to_axis=!0;var i=n.detection.current.lastEvent.direction;t.drag_locked_to_axis&&i!==t.direction&&(n.utils.isVertical(i)?t.direction=t.deltaY<0?n.DIRECTION_UP:n.DIRECTION_DOWN:t.direction=t.deltaX<0?n.DIRECTION_LEFT:n.DIRECTION_RIGHT),this.triggered||(r.trigger(this.name+"start",t),this.triggered=!0),r.trigger(this.name,t),r.trigger(this.name+t.direction,t),(r.options.drag_block_vertical&&n.utils.isVertical(t.direction)||r.options.drag_block_horizontal&&!n.utils.isVertical(t.direction))&&t.preventDefault();break;case n.EVENT_END:this.triggered&&r.trigger(this.name+"end",t),this.triggered=!1}}},n.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(t,r){if(n.detection.current.name!=this.name&&this.triggered){r.trigger(this.name+"end",t),this.triggered=!1;return}if(t.touches.length<2)return;r.options.transform_always_block&&t.preventDefault();switch(t.eventType){case n.EVENT_START:this.triggered=!1;break;case n.EVENT_MOVE:var i=Math.abs(1-t.scale),s=Math.abs(t.rotation);if(i<r.options.transform_min_scale&&s<r.options.transform_min_rotation)return;n.detection.current.name=this.name,this.triggered||(r.trigger(this.name+"start",t),this.triggered=!0),r.trigger(this.name,t),s>r.options.transform_min_rotation&&r.trigger("rotate",t),i>r.options.transform_min_scale&&(r.trigger("pinch",t),r.trigger("pinch"+(t.scale<1?"in":"out"),t));break;case n.EVENT_END:this.triggered&&r.trigger(this.name+"end",t),this.triggered=!1}}},n.gestures.Touch={name:"touch",index:-Infinity,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(t,r){if(r.options.prevent_mouseevents&&t.pointerType==n.POINTER_MOUSE){t.stopDetect();return}r.options.prevent_default&&t.preventDefault(),t.eventType==n.EVENT_START&&r.trigger(this.name,t)}},n.gestures.Release={name:"release",index:Infinity,handler:function(t,r){t.eventType==n.EVENT_END&&r.trigger(this.name,t)}},typeof module=="object"&&typeof module.exports=="object"?module.exports=n:(e.Hammer=n,typeof e.define=="function"&&e.define.amd&&e.define("hammer",[],function(){return n}))}(this),i("hammerjs",function(e){return function(){var t,n;return t||e.Hammer}}(this)),i("wf-js-uicomponents/awesome_map/EventTypes",[],function(){var e={DOUBLE_TAP:"doubletap",DRAG:"drag",DRAG_END:"dragend",DRAG_START:"dragstart",HOLD:"hold",MOUSE_WHEEL:"mousewheel",RELEASE:"release",RESIZE:"resize",SWIPE:"swipe",TAP:"tap",TOUCH:"touch",TRANSFORM:"transform",TRANSFORM_END:"transformend",TRANSFORM_START:"transformstart"};return e}),i("wf-js-uicomponents/awesome_map/Gesture",[],function(){var e=2,t=function(e){e=e||{};if(e.hasOwnProperty("srcEvent")||e.hasOwnProperty("deltaTime"))throw new Error("The template seems to be a Hammer gesture. Use Gesture.fromHammerGesture to convert before passing into this constructor.");this.angle=e.angle||null,this.center=e.center||null,this.deltaX=e.deltaX||0,this.deltaY=e.deltaY||0,this.direction=e.direction||null,this.duration=e.duration||0,this.scale=e.scale||1,this.source=e.source||null,this.target=e.target||null,this.touches=e.touches||[],this.velocityX=e.velocityX||0,this.velocityY=e.velocityY||0};return t.prototype={clone:function(){var e=this.center,n=[],r,i,s;for(r=0,i=this.touches.length;r<i;r++)s=this.touches[r],n.push({pageX:s.pageX,pageY:s.pageY});return new t({angle:this.angle,center:e?{pageX:e.pageX,pageY:e.pageY}:undefined,deltaX:this.deltaX,deltaY:this.deltaY,direction:this.direction,duration:this.duration,scale:this.scale,source:this.source,target:this.target,touches:n,velocityX:this.velocityX,velocityY:this.velocityY})},createIterativeGesture:function(e){var t=this.clone();return t.deltaX-=e.deltaX,t.deltaY-=e.deltaY,t.duration-=e.duration,this._validateTouchDistance(e)?t.scale/=e.scale:t.scale=1,t},getPosition:function(){var e=this.target,t=this.center,n;return e&&t?(n=e.getBoundingClientRect(),{x:t.pageX-n.left,y:t.pageY-n.top}):null},getTouchDistance:function(){var e=this.touches;if(e.length!==2)return 0;var t=e[0],n=e[1],r=t.pageX-n.pageX,i=t.pageY-n.pageY;return Math.sqrt(r*r+i*i)},_validateTouchDistance:function(t){var n=this.getTouchDistance()-t.getTouchDistance();return Math.abs(n)>e}},t.fromHammerGesture=function(e){return new t({angle:e.angle,center:e.center,deltaX:e.deltaX,deltaY:e.deltaY,direction:e.direction,duration:0,scale:e.scale,source:e.srcEvent,target:e.target,touches:e.touches,velocityX:e.velocityX,velocityY:e.velocityY})},t}),i("wf-js-uicomponents/awesome_map/InteractionEvent",[],function(){var e=function(e,t,n){this.cancelled=!1,this.cumulativeGesture=t,this.iterativeGesture=n,this.position=n.getPosition(),this.simulated=!1,this.source=t.source,this.target=t.target,this.targetState=null,this.type=e};return e}),i("wf-js-common/Observable",[],function(){function e(e,t,n,r){var i,s=[],o,u;for(o=0,u=e.length;o<u;o++)s.push(e[o]);for(o=0,u=s.length;o<u;o++){var a=s[o];i=a.apply(n,t),r&&r(i)}}var t=0,n={newObservable:function(n){var r=[],i=function(e){r.push(e)};return i.id=t++,i.dispatch=function(t,i){t=[].concat(t),e(r,t,n,i)},i.dispatchOn=function(e){return e(i.dispatch),i},i.dispose=function(){r=null},i.remove=function(e){var t=r.indexOf(e);t>=0&&r.splice(t,1)},i}};return n}),i("wf-js-common/MouseAdapter",["require","wf-js-common/BrowserInfo","wf-js-common/Observable"],function(e){function l(e){var t=e.originalEvent||e,n=0,l=0,c=0,h,p,d=1;t.detail&&(n=-1*t.detail,t.axis===t.HORIZONTAL_AXIS?l=n:t.axis===t.VERTICAL_AXIS&&(c=n),d=6);if(t.deltaX||t.deltaY)l=-1*t.deltaX,c=-1*t.deltaY;if(t.wheelDeltaX||t.wheelDeltaY)l=t.wheelDeltaX||0,c=t.wheelDeltaY||0,d=1/6;return h=Math.abs(l),h&&(h<s?(s=h,u=r/s):!f&&h>s*i&&(f=!0)),p=Math.abs(c),p&&(p<o?(o=p,a=r/o):!f&&p>o*i&&(f=!0)),f?(l*=d,c*=d):(l*=u,c*=a),{distance:{x:l,y:c},source:e}}var t=e("wf-js-common/BrowserInfo"),n=e("wf-js-common/Observable"),r=50,i=4,s=Number.MAX_VALUE,o=Number.MAX_VALUE,u=1,a=1,f=!1,c=function(e){this.onMouseWheel=n.newObservable(),this._target=e,this._initialize()};return c.prototype={dispose:function(){this._target.removeEventListener(t.Events.MOUSE_SCROLL,this._onMouseWheel,!1),this.onMouseWheel.dispose()},_initialize:function(){this._target.addEventListener(t.Events.MOUSE_SCROLL,this._onMouseWheel.bind(this))},_onMouseWheel:function(e){var t;e.target===this._target&&(t=l(e),this.onMouseWheel.dispatch([t]))}},c}),i("wf-js-common/DOMUtil",[],function(){var e,t=function(){if(!e){var t=document.createElement("style");t.id="FONT_STYLE_TAG",document.documentElement.getElementsByTagName("head")[0].appendChild(t),e=t.sheet}},n=function(e){this.window=e.window,this.document=e.document,this.navigator=e.navigator||navigator,this._preventWindowScrollInvoked=!1};return n.prototype={appendElement:function(e,t){return t.appendChild(e),e},createElement:function(e,t,n,r){var i=document.createElement(e);return t&&(i.id=t),n&&(r?i.innerHTML=n:i.textContent=n),i},loadJavascript:function(e){var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src",e),document.head.appendChild(t)},loadStylesheet:function(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),document.head.appendChild(t)},loadWoffFont:function(n){e||t();var r="@font-face {"+('font-family: "'+n.fontFamily+'";')+("font-style: "+n.fontStyle+";")+("font-weight: "+n.fontWeight+";");r+="src: url("+n.url+");",r+='format("woff");}',e.insertRule(r,e.cssRules.length)},loadDataFont:function(n,r){e||t();var i;n.url&&!r?i="url({url});".replace("{url}",n.url):i="url(data:application/octet-stream;base64,"+r+");";var s="@font-face {\n";s+='  font-family: "'+n.fontFamily+'";\n',s+="  font-style: "+n.fontStyle+";\n",s+="  font-weight: "+n.fontWeight+";\n",s+="  src: "+i+";\n",s+="}",e.insertRule(s,e.cssRules.length)},loadFontByData:function(e,t){var n=document.createElement("style");n.type="text/css",n.innerHTML="@font-face {"+('font-family: "'+e.fontFamily+'";')+("font-style: "+e.fontStyle+";")+("font-weight: "+e.fontWeight+";"),n.innerHTML+="src: url("+t+");}",document.head.appendChild(n)},loadFontFace:function(e,t,n,r){var i=document.createElement("style");r||(r=""),i.type="text/css",i.innerHTML="@font-face {"+('font-family: "'+r+e.fontFamily+'";')+("font-style: "+e.fontStyle+";")+("font-weight: "+e.fontWeight+";"),t?i.innerHTML+="src: url("+e.url+");}":(i.innerHTML+='src: url("'+e.url+'")',n&&n.length>0?i.innerHTML+=' format("'+n+'");}':i.innerHTML+=";}"),document.head.appendChild(i)},removeElement:function(e){var t=document.getElementById(e);t&&t.parentNode&&t.parentNode.removeChild(t),t=null},removeElementNode:function(e){e&&e.parentNode&&e.parentNode.removeChild(e),e=null},addClass:function(e,t){e.className=e.className+" "+t.join(" ")},addStyles:function(e,t){for(var n in t)t.hasOwnProperty(n)&&n in e.style&&(e.style[n]=t[n])},hasClass:function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1},createEvent:function(e){var t;return document.createEvent?(t=this.document.createEvent("HTMLEvents"),t.initEvent(e,!0,!0)):(t=this.document.createEventObject(),t.eventType=e),t},width:function(e){var t=e.offsetWidth;if(t===0&&e.style.display==="none")this.makeMeasureReady(e,function(e){t=e.offsetWidth});else if(t===0&&e.style.display===""){var n=e.parentElement;while(n!==null&&n.offsetWidth===0)n=n.parentElement;n&&(t=n.offsetWidth)}return t},height:function(e){var t=e.offsetHeight;if(t===0&&e.style.display==="none")this.makeMeasureReady(e,function(e){t=e.offsetHeight});else if(t===0&&e.style.display===""){var n=e.parentElement;while(n!==null&&n.offsetHeight===0)n=n.parentElement;n&&(t=n.offsetHeight)}return t},makeMeasureReady:function(e,t){var n=e.style,r=n.display;if(r!=="none")return t(e);var i=n.position,s=n.visibility;n.position="absolute",n.visibility="hidden",n.display="block",t(e),n.display="none",n.position=i,n.visibility=s},scrollY:function(){return this.window.pageYOffset||(this.document.documentElement||this.document.body.parentNode||this.document.body).scrollTop},preventIOS7WindowScroll:function(){var e=this.navigator;if(!e.userAgent.match(/(iPad|iPhone|iPod touch);.*CPU.*OS 7_\d/i))return;if(this._preventWindowScrollInvoked)return;var t=this.window,n,r=function(){n&&(t.clearInterval(n),n=null)},i=function(){t.scrollY&&t.scrollTo(0,0)};i();var s=function(e){return e>18&&e<22||e===64};t.addEventListener("scroll",function(){var e=t.scrollY;s(e)?i():e&&(r(),n=t.setInterval(function(){var e=t.scrollY;s(e)?(i(),r()):e||r()},100))}),this._preventWindowScrollInvoked=!0},dismissIOS7VirtualKeyboardOnOrientationChange:function(){var e=this.navigator;if(!e.userAgent.match(/(iPad|iPhone|iPod touch);.*CPU.*OS 7_\d/i))return;var t=this;this.window.addEventListener("orientationchange",function(){var e=t.document.activeElement;e&&(e.blur(),t.window.scrollTo(0,0))})}},n.prototype.constructor=n,new n({window:window,document:document})}),i("wf-js-uicomponents/awesome_map/EventSynthesizer",["require","hammerjs","wf-js-uicomponents/awesome_map/EventTypes","wf-js-uicomponents/awesome_map/Gesture","wf-js-uicomponents/awesome_map/InteractionEvent","wf-js-common/BrowserInfo","wf-js-common/DestroyUtil","wf-js-common/MouseAdapter","wf-js-common/Observable","wf-js-common/DOMUtil"],function(e){var t=e("hammerjs"),n=e("wf-js-uicomponents/awesome_map/EventTypes"),r=e("wf-js-uicomponents/awesome_map/Gesture"),i=e("wf-js-uicomponents/awesome_map/InteractionEvent"),s=e("wf-js-common/BrowserInfo"),o=e("wf-js-common/DestroyUtil"),u=e("wf-js-common/MouseAdapter"),a=e("wf-js-common/Observable"),f=e("wf-js-common/DOMUtil"),l={createHammerInstance:function(e){return new t(e,{hold_threshold:10,hold_timeout:250,swipe_velocity:1,transform_min_scale:.05})},createMouseAdapter:function(e){return new u(e)},getWindow:function(){return window}},c=function(e){this._validateConfiguration(e),this.onEventSynthesized=a.newObservable(),this._currentHostRect=null,this._deferredEventHandlers=[],this._dragging=!1,this._eventHandlers=null,this._lastGesture=null,this._hammer=null,this._host=e.host,this._mouseAdapter=null,this._transforming=!1,this._resizeEventType=typeof l.getWindow().cordova!="undefined"?"orientationchange":"resize",this._initialize()};return c.prototype={getEventHandlers:function(){return this._eventHandlers},dispose:function(){var e,t=this._eventHandlers;this.onEventSynthesized.dispose();for(e in t)e!==n.MOUSE_WHEEL&&e!==n.RESIZE&&this._hammer.off(e,t[e]);this._mouseAdapter.dispose(),l.getWindow().removeEventListener(this._resizeEventType,this._eventHandlers[n.RESIZE],!1),o.destroy(this)},invalidate:function(){this._currentHostRect=this._measureHost()},_createInteractionEvent:function(e,t){var n=this._lastGesture,r;return t.target=this._host,n?r=t.createIterativeGesture(n):r=t,this._setLastGesture(t),new i(e,t,r)},_deferEvent:function(e,t){var n=r.fromHammerGesture(e.gesture);this._setLastGesture(n),this._deferredEventHandlers.push(t)},_dispatchEvent:function(e,t){var n=r.fromHammerGesture(t),i=this._createInteractionEvent(e,n);this.onEventSynthesized.dispatch([this,{event:i}]),t.preventDefault&&t.preventDefault()},_getDoubleTapHandler:function(){var e=this;return function(t){e._dispatchEvent(n.DOUBLE_TAP,t.gesture)}},_getDragHandler:function(){var e=this;return function(t){var r=function(){e._dispatchEvent(n.DRAG,t.gesture)};e._transforming?e._deferEvent(t,r):r()}},_getDragEndHandler:function(){var e=this;return function(t){var r=function(){e._dispatchEvent(n.DRAG_END,t.gesture),e._dragging=!1};e._transforming?e._deferEvent(t,r):(r(),e._invokeDeferredEventHandlers())}},_getDragStartHandler:function(){var e=this;return function(t){var r=function(){e._dragging=!0,e._dispatchEvent(n.DRAG_START,t.gesture)};e._transforming?e._deferEvent(t,r):r()}},_getHoldHandler:function(){var e=this;return function(t){e._dispatchEvent(n.HOLD,t.gesture)}},_getMouseWheelHandler:function(){var e=this;return function(t){var r={deltaX:t.distance.x,deltaY:t.distance.y,srcEvent:t.source};e._dispatchEvent(n.MOUSE_WHEEL,r),e._lastGesture=null,s.Events.cancelEvent(t.source)}},_getReleaseHandler:function(){var e=this;return function(t){e._invokeDeferredEventHandlers(),e._dispatchEvent(n.RELEASE,t.gesture),e._lastGesture=null}},_getSwipeHandler:function(){var e=this;return function(t){var r=function(){e._dispatchEvent(n.SWIPE,t.gesture)};e._dragging?e._deferEvent(t,r):r()}},_getTapHandler:function(){var e=this;return function(t){e._dispatchEvent(n.TAP,t.gesture)}},_getTouchHandler:function(){var e=this;return function(t){e._dispatchEvent(n.TOUCH,t.gesture)}},_getTransformHandler:function(){var e=this;return function(t){var r=function(){e._dispatchEvent(n.TRANSFORM,t.gesture)};e._dragging?e._deferEvent(t,r):r()}},_getTransformEndHandler:function(){var e=this;return function(t){var r=function(){e._dispatchEvent(n.TRANSFORM_END,t.gesture),e._transforming=!1};e._dragging?e._deferEvent(t,r):(r(),e._invokeDeferredEventHandlers())}},_getTransformStartHandler:function(){var e=this;return function(t){var r=function(){e._transforming=!0,e._dispatchEvent(n.TRANSFORM_START,t.gesture)};e._dragging?e._deferEvent(t,r):r()}},_getWindowResizeHandler:function(){var e=this;return function(t){var r=e._measureHost(),i;if(r.width!==e._currentHostRect.width||r.height!==e._currentHostRect.height)e._currentHostRect=r,i={srcEvent:t,target:e._host},e._dispatchEvent(n.RESIZE,i)}},_initialize:function(){var e,t;this._currentHostRect=this._measureHost(),e={},e[n.DOUBLE_TAP]=this._getDoubleTapHandler(),e[n.DRAG]=this._getDragHandler(),e[n.DRAG_END]=this._getDragEndHandler(),e[n.DRAG_START]=this._getDragStartHandler(),e[n.HOLD]=this._getHoldHandler(),e[n.MOUSE_WHEEL]=this._getMouseWheelHandler(),e[n.RELEASE]=this._getReleaseHandler(),e[n.RESIZE]=this._getWindowResizeHandler(),e[n.SWIPE]=this._getSwipeHandler(),e[n.TAP]=this._getTapHandler(),e[n.TOUCH]=this._getTouchHandler(),e[n.TRANSFORM]=this._getTransformHandler(),e[n.TRANSFORM_END]=this._getTransformEndHandler(),e[n.TRANSFORM_START]=this._getTransformStartHandler(),this._eventHandlers=e,t=this._hammer=l.createHammerInstance(this._host),[n.DOUBLE_TAP,n.DRAG,n.DRAG_END,n.DRAG_START,n.HOLD,n.RELEASE,n.SWIPE,n.TAP,n.TOUCH,n.TRANSFORM,n.TRANSFORM_END,n.TRANSFORM_START].forEach(function(n){t.on(n,e[n])}),this._mouseAdapter=l.createMouseAdapter(this._host),this._mouseAdapter.onMouseWheel(e[n.MOUSE_WHEEL]),l.getWindow().addEventListener(this._resizeEventType,e[n.RESIZE])},_invokeDeferredEventHandlers:function(){var e=0,t=this._deferredEventHandlers.length;for(;e<t;e++)this._deferredEventHandlers.shift().apply()},_setLastGesture:function(e){this._lastGesture=e.clone()},_validateConfiguration:function(e){if(!e)throw new Error("EventSynthesizer configuration is required.");if(!e.host)throw new Error("EventSynthesizer configuration: host is required.")},_measureHost:function(){return{width:f.width(this._host),height:f.height(this._host)}}},c.dependencies=l,c}),i("wf-js-common/Utils",[],function(){var e={valueOr:function(e,t){return e===undefined?t:e}};return e}),i("wf-js-uicomponents/awesome_map/InteractionSimulator",["require","wf-js-common/DestroyUtil","wf-js-uicomponents/awesome_map/EventTypes","wf-js-uicomponents/awesome_map/Gesture","wf-js-uicomponents/awesome_map/InteractionEvent","wf-js-common/Observable","wf-js-common/Utils"],function(e){var t=e("wf-js-common/DestroyUtil"),n=e("wf-js-uicomponents/awesome_map/EventTypes"),r=e("wf-js-uicomponents/awesome_map/Gesture"),i=e("wf-js-uicomponents/awesome_map/InteractionEvent"),s=e("wf-js-common/Observable"),o=e("wf-js-common/Utils"),u=function(e){this._validateConfiguration(e),this.onEventSimulated=s.newObservable(),this._animationDuration=e.animationDuration||0,this._target=e.target};return u.prototype={dispose:function(){this.onEventSimulated.dispose(),t.destroy(this)},simulatePan:function(e){var t=o.valueOr(e.type,"by"),n=o.valueOr(e.x,0),r=o.valueOr(e.y,0),i=o.valueOr(e.duration,this._animationDuration),s=this._createTouchEvent(),u,a=this._createReleaseEvent();t==="to"?(u=this._createDragEvent(0,0,i),u.targetState={translateX:n,translateY:r}):u=this._createDragEvent(n,r,i),this._dispatchEach([s],[u],[a,e.done])},simulateSwipe:function(e){if(!e.direction)throw new Error("InteractionSimulator.simulateSwipe: direction is required");var t=e.direction,n=o.valueOr(e.velocity,1),r=o.valueOr(e.duration,this._animationDuration),i=this._createTouchEvent(),s=this._createSwipeEvent(t,n,r),u=this._createReleaseEvent();this._dispatchEach([i],[s],[u,e.done])},simulateZoom:function(e){var t=o.valueOr(e.type,"to"),n=o.valueOr(e.scale,1),r=o.valueOr(e.duration,this._animationDuration),i=this._getZoomOrigin(e.originX,e.originY),s=this._createTouchEvent(),u,a=this._createReleaseEvent();t==="to"?(u=this._createTransformEvent(1,i,r),u.targetState={scale:n}):u=this._createTransformEvent(n,i,r),this._dispatchEach([s],[u],[a,e.done])},_createEvent:function(e,t,n){function u(e){e.target=s}var s=this._target,o;return t=t||{},n=n||t,u(t),u(n),o=new i(e,new r(t),new r(n)),o.simulated=!0,o},_createDragEvent:function(e,t,r){return this._createEvent(n.DRAG,{deltaX:0,deltaY:0},{deltaX:e,deltaY:t,duration:r})},_createReleaseEvent:function(){var e=this._getZoomOrigin();return this._createEvent(n.RELEASE,{center:{pageX:e.pageX,pageY:e.pageY}})},_createSwipeEvent:function(e,t,r){var i=0,s=0;switch(e){case"up":case"down":s=t;break;case"left":case"right":i=t}return this._createEvent(n.SWIPE,{direction:e,duration:r,velocityX:i,velocityY:s})},_createTouchEvent:function(){return this._createEvent(n.TOUCH)},_createTransformEvent:function(e,t,r){return this._createEvent(n.TRANSFORM,{center:{pageX:t.pageX,pageY:t.pageY},duration:r,scale:e})},_dispatchEach:function(){var e=this,t=Array.prototype.slice.call(arguments,0);t.forEach(function(t){e.onEventSimulated.dispatch([e,{event:t[0],done:t[1]}])})},_getZoomOrigin:function(e,t){var n=this._target,r=n.getBoundingClientRect(),i=r.left+o.valueOr(e,r.width/2),s=r.top+o.valueOr(t,r.height/2);return{pageX:i,pageY:s}},_validateConfiguration:function(e){if(!e)throw new Error("InteractionSimulator configuration is required.");if(!e.target)throw new Error("InteractionSimulator configuration: target is required.")}},u}),i("wf-js-common/requestAnimationFrame",[],function(){var e=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();return e.FRAME_RATE=1e3/60,e}),i("wf-js-uicomponents/awesome_map/TransformUtil",["require","wf-js-common/BrowserInfo","wf-js-common/requestAnimationFrame"],function(e){var t=e("wf-js-common/BrowserInfo"),n=e("wf-js-common/requestAnimationFrame"),r="-?[\\d\\.]+",i={cssMatrixRegExp:new RegExp("matrix\\((%d), %d, %d, (%d), (%d), (%d)\\)".replace(/%d/g,r)),cssMatrix3dRegExp:new RegExp("matrix3d\\((%d), %d, %d, %d, %d, (%d), %d, %d, %d, %d, (%d), %d, (%d), (%d), (%d), %d\\)".replace(/%d/g,r)),animate:function(e,r,s,o){if(!t.cssTransitionProperty)return i.animateJS(e,r,s,o);var u=t.Events.TRANSITION_END,a=!1,f,l,c=function(){clearTimeout(f),a=!0,e.removeEventListener(u,c),i.removeTransition(e),l?(i.applyTransform(e,l),n(function(){o(l)})):o(r)};return e.addEventListener(u,c),f=setTimeout(c,r.duration+50),i.applyTransition(e,r),i.applyTransform(e,r),{stop:function(){var n=window.getComputedStyle(e),s=n[t.cssTransformProperty],o=i.parseTransformFromMatrix(s);if(!o)return;return l=r.clone(),l.scale=o.scaleX,l.translateX=Math.ceil(o.translateX),l.translateY=Math.ceil(o.translateY),c(),l}}},animateJS:function(e,t,r,s){function y(r){if(p)return s(o);m||(m=r||Date.now()),v=(r||Date.now())-m,v<d?(o.translateX=Math.ceil(g(u,l,d,v)),o.translateY=Math.ceil(g(a,c,d,v)),o.scale=g(f,h,d,v),i.applyTransform(e,o),n(y)):(i.applyTransform(e,t),s(t))}var o=r.clone(),u=r.translateX,a=r.translateY,f=r.scale,l=t.translateX-u,c=t.translateY-a,h=t.scale-f,p=!1,d=t.duration,v=0,m,g=t.easing.js;return n(y),{stop:function(){return p=!0,o}}},applyTransform:function(e,n){var r;t.hasCssTransforms3d?r="translate3d("+n.translateX+"px, "+n.translateY+"px, "+"0px"+")":r="translate("+n.translateX+"px, "+n.translateY+"px"+")",e.style[t.cssTransformProperty]=r+"scale("+n.scale+")"},applyTransition:function(e,n){e.style[t.cssTransitionProperty]="all "+n.duration+"ms "+n.easing.css},clearTransformationOrigin:function(e){e.style[t.cssTransformOriginProperty]="0px 0px 0px"},parseTransformFromMatrix:function(e){var t,n;return~e.indexOf("matrix3d")?(t=this.cssMatrix3dRegExp.exec(e),t&&(n={scaleX:parseFloat(t[1],10),scaleY:parseFloat(t[2],10),scaleZ:parseFloat(t[3],10),translateX:parseFloat(t[4],10),translateY:parseFloat(t[5],10),translateZ:parseFloat(t[6],10)})):(t=this.cssMatrixRegExp.exec(e),t&&(n={scaleX:parseFloat(t[1],10),scaleY:parseFloat(t[2],10),translateX:parseFloat(t[3],10),translateY:parseFloat(t[4],10)})),n},removeTransform:function(e){e.style[t.cssTransformOriginProperty]="",e.style[t.cssTransformProperty]=""},removeTransition:function(e){e.style[t.cssTransitionProperty]=""}};return i}),i("wf-js-uicomponents/awesome_map/Transformation",["require","wf-js-uicomponents/awesome_map/TransformUtil"],function(e){var t=e("wf-js-uicomponents/awesome_map/TransformUtil"),n=function(e,t,n){this._animation=null,this._currentState=n,this._executed=!1,this._target=e,this._targetState=t};return n.prototype={cancel:function(){var e=this._animation;if(e){var t=e.stop();return e=null,t}},execute:function(e){var t=this._targetState;e=e||function(){};if(this._executed){e(t);return}this._executed=!0;if(!t||t.equals(this._currentState)){e(t);return}this._apply(e)},_apply:function(e){var n=this._target,r=this._targetState,i=this._currentState;r.duration>0?this._animation=t.animate(n,r,i,e):(t.applyTransform(n,r),e(r))}},n}),i("wf-js-uicomponents/awesome_map/EasingFunctions",[],function(){var e={easeOutCubic:{css:"cubic-bezier(0.215, 0.61, 0.355, 1)",js:function(e,t,n,r){return r=r/n-1,t*(r*r*r+1)+e}},easeOutQuart:{css:"cubic-bezier(0.165, 0.84, 0.44, 1)",js:function(e,t,n,r){return r=r/n-1,-t*(r*r*r*r-1)+e}}};return e}),i("wf-js-uicomponents/awesome_map/TransformState",["require","wf-js-uicomponents/awesome_map/EasingFunctions","wf-js-uicomponents/awesome_map/EventTypes"],function(e){var t=e("wf-js-uicomponents/awesome_map/EasingFunctions"),n=e("wf-js-uicomponents/awesome_map/EventTypes"),r=function(e){e=e||{},this.duration=e.duration||0,this.easing=e.easing||t.easeOutQuart,this.scale=e.scale||1,this.translateX=e.translateX||0,this.translateY=e.translateY||0};return r.prototype={clone:function(){return new r(this)},equals:function(e){return e.scale===this.scale&&e.translateX===this.translateX&&e.translateY===this.translateY},panBy:function(e,t){this.translateX=Math.round(this.translateX+e),this.translateY=Math.round(this.translateY+t)},zoomBy:function(e,t,n,r,i){var s=this.scale,o,u=this.translateX,a=this.translateY,f=(r-u)/s,l=(i-a)/s;u+=f*(s-1),a+=l*(s-1),o=s*e,u+=t,a+=n,u-=f*(o-1),a-=l*(o-1),this.scale=o,this.translateX=Math.round(u),this.translateY=Math.round(a)}},r.fromEvent=function(e,t){var r=e.position||{x:0,y:0},i=e.iterativeGesture,s=t.clone(),o;s.duration=i.duration,e.simulated&&e.targetState&&(o=e.targetState,o.translateX!==undefined&&(i.deltaX=o.translateX-t.translateX),o.translateY!==undefined&&(i.deltaY=o.translateY-t.translateY),o.scale!==undefined&&(i.scale=o.scale/t.scale));switch(e.type){case n.DRAG:case n.DRAG_END:case n.DRAG_START:case n.MOUSE_WHEEL:s.panBy(i.deltaX,i.deltaY);break;case n.TRANSFORM:s.zoomBy(i.scale,i.deltaX,i.deltaY,r.x,r.y);break;case n.TRANSFORM_END:case n.TRANSFORM_START:s.zoomBy(i.scale,0,0,r.x,r.y);break;default:}return s},r}),i("wf-js-uicomponents/awesome_map/TransformationQueue",["require","wf-js-uicomponents/awesome_map/Transformation","wf-js-uicomponents/awesome_map/TransformState"],function(e){var t=e("wf-js-uicomponents/awesome_map/Transformation"),n=e("wf-js-uicomponents/awesome_map/TransformState"),r={createTransformation:function(e,n,r){return new t(e,n,r)}},i=function(e){this._currentTransformation=null,this._map=e,this._processing=!1,this._queue=[]};return i.prototype={isProcessing:function(){return this._processing},cancelCurrentTransformation:function(){if(this._currentTransformation)return this._currentTransformation.cancel()},enqueue:function(e,t){return this._queue.push({event:e,done:t}),this._queue},processEvents:function(){var e=this,t=this._map,i=t.getTransformationPlane(),s,o=r.createTransformation;if(this._processing)return!1;this._processing=!0,s=function(){var r,u,a,f;if(e._queue.length===0)return;r=e._queue.shift(),a=r.event,u=t.getCurrentTransformState(),f=n.fromEvent(a,u),t.onTransformStarted.dispatch([t,{event:a,targetState:f}]),e._currentTransformation=o(i,f,u),e._currentTransformation.execute(function(n){e._currentTransformation=null,e._processing=e._queue.length>0,r.done(n),t.onTransformFinished.dispatch([t,{event:a,finalState:n}]),s()})},s()}},i.dependencies=r,i}),i("wf-js-uicomponents/awesome_map/AwesomeMap",["require","wf-js-common/BrowserInfo","wf-js-common/DestroyUtil","wf-js-uicomponents/awesome_map/EventSynthesizer","wf-js-uicomponents/awesome_map/EventTypes","wf-js-uicomponents/awesome_map/InteractionSimulator","wf-js-common/Observable","wf-js-uicomponents/awesome_map/TransformationQueue","wf-js-uicomponents/awesome_map/TransformState","wf-js-uicomponents/awesome_map/TransformUtil"],function(e){var t=e("wf-js-common/BrowserInfo"),n=e("wf-js-common/DestroyUtil"),r=e("wf-js-uicomponents/awesome_map/EventSynthesizer"),i=e("wf-js-uicomponents/awesome_map/EventTypes"),s=e("wf-js-uicomponents/awesome_map/InteractionSimulator"),o=e("wf-js-common/Observable"),u=e("wf-js-uicomponents/awesome_map/TransformationQueue"),a=e("wf-js-uicomponents/awesome_map/TransformState"),f=e("wf-js-uicomponents/awesome_map/TransformUtil"),l=function(e){this.onInteraction=o.newObservable(),this.onInteractionStarted=o.newObservable(),this.onInteractionFinished=o.newObservable(),this.onScaleChanged=o.newObservable(),this.onTransformFinished=o.newObservable(),this.onTranslationChanged=o.newObservable(),this.onTransformStarted=o.newObservable(),this._contentDimensions=null,this._currentTransformState=null,this._customContentDimensions=null,this._disposed=!1,this._eventSynthesizer=null,this._hitArea=null,this._host=e,this._interactionSimulator=null,this._interceptors=[],this._transformationPlane=null,this._transformationQueue=null,this._viewport=null,this._viewportDimensions=null,this._initialize()};return l.prototype={getContentDimensions:function(){if(this._contentDimensions)return this._contentDimensions;var e=this._customContentDimensions,t,n,r,i,s=0,o=0;if(e)o=e.width,s=e.height;else{t=this._transformationPlane.childNodes;for(n=0,r=t.length;n<r;n++)i=t[n],o=Math.max(o,i.offsetWidth),s+=i.offsetHeight}return this._contentDimensions={width:Math.ceil(o),height:Math.ceil(s)},this._contentDimensions},getCurrentTransformState:function(){return this._currentTransformState},getHost:function(){return this._host},getScale:function(){return this._currentTransformState.scale},getTransformationPlane:function(){return this._transformationPlane},getTranslation:function(){return{x:this._currentTransformState.translateX,y:this._currentTransformState.translateY}},getViewportDimensions:function(){if(this._viewportDimensions)return this._viewportDimensions;var e=window.getComputedStyle(this._host);return this._viewportDimensions={height:parseInt(e.height,10),width:parseInt(e.width,10)},this._viewportDimensions},isDisabled:function(){return this._hitArea.style.display==="none"},isDisposed:function(){return this._disposed},isTransforming:function(){return this._transformationQueue.isProcessing()},setContentDimensions:function(e){this._customContentDimensions=e,this._invalidateContentDimensions(!0)},setCurrentTransformState:function(e){var t=this._currentTransformState;this._currentTransformState=e.clone(),t.scale!==e.scale&&this.onScaleChanged.dispatch([this,{scale:e.scale}]),(t.translateX!==e.translateX||t.translateY!==e.translateY)&&this.onTranslationChanged.dispatch([this,{x:e.translateX,y:e.translateY}])},addInterceptor:function(e){e.register(this),this._interceptors.push(e)},appendContent:function(e){this._transformationPlane.appendChild(e),this._invalidateContentDimensions()},clearContent:function(){var e=this._transformationPlane;while(e.firstChild)e.removeChild(e.firstChild);this._invalidateContentDimensions()},disable:function(){this._hitArea.style.display="none"},dispose:function(){var e,t;this._host.removeChild(this._viewport),this._eventSynthesizer.dispose(),this._interactionSimulator.dispose();for(e=0,t=this._interceptors.length;e<t;e++)this._interceptors[e].dispose();this.onInteraction.dispose(),this.onScaleChanged.dispose(),this.onTransformFinished.dispose(),this.onTransformStarted.dispose(),this.onTranslationChanged.dispose(),n.destroy(this),this._disposed=!0},enable:function(){this._hitArea.style.display="block"},getInterceptor:function(e){var t,n,r;for(t=0,n=this._interceptors.length;t<n;t++){r=this._interceptors[t];if(r instanceof e)return r}return null},handleInteractionEvent:function(e,t){var n=this,r=this._transformationQueue,s=t.event,o=s.type,u=function(){o===i.RELEASE&&n.onInteractionFinished.dispatch([n]),t.done&&t.done()};if(o===i.TOUCH){var a=r.cancelCurrentTransformation();a&&this.setCurrentTransformState(a),this.onInteractionStarted.dispatch([this])}else o===i.RESIZE&&this.invalidateViewportDimensions();this.onInteraction.dispatch([this,{event:s,currentState:this.getCurrentTransformState()}],function(t){s.cancelled=s.cancelled||t===!1});if(s.cancelled||this.isDisabled()&&!s.simulated)return u();r.enqueue(s,function(e){n.setCurrentTransformState(e),u()}),r.processEvents()},invalidateViewportDimensions:function(){this._viewportDimensions=null},panBy:function(e){e.type="by",this._interactionSimulator.simulatePan(e)},panTo:function(e){e.type="to",this._interactionSimulator.simulatePan(e)},removeContent:function(e){this._transformationPlane.removeChild(e),this._invalidateContentDimensions()},removeInterceptor:function(e){var t,n;for(t=this._interceptors.length-1;t>-1;t--)n=this._interceptors[t],n instanceof e&&(n.dispose(),this._interceptors.splice(t,1))},swipe:function(e){this._interactionSimulator.simulateSwipe(e)},transform:function(e){var t=new a({translateX:e.x,translateY:e.y,scale:e.scale});f.applyTransform(this._transformationPlane,t),this.setCurrentTransformState(t)},zoomBy:function(e){e.type="by",this._setDefaultZoomOrigin(e),this._interactionSimulator.simulateZoom(e)},zoomTo:function(e){e.type="to",this._setDefaultZoomOrigin(e),this._interactionSimulator.simulateZoom(e)},_initialize:function(){this._validateConfiguration();var e=this.handleInteractionEvent.bind(this);this._initializeHTMLElements(),this._currentTransformState=new a,this._eventSynthesizer=new r({host:this._hitArea}),this._eventSynthesizer.onEventSynthesized(e),this._interactionSimulator=new s({target:this._hitArea}),this._interactionSimulator.onEventSimulated(e),this._transformationQueue=new u(this)},_initializeHTMLElements:function(){function e(e){e.style.position="absolute",e.style.top="0px",e.style.bottom="0px",e.style.left="0px",e.style.right="0px"}this._viewport=document.createElement("div"),this._viewport.className="awesomeMap-viewport",e(this._viewport),this._viewport.style.overflow="hidden",this._transformationPlane=document.createElement("div"),this._transformationPlane.className="awesomeMap-transformationPlane",this._transformationPlane.style.position="absolute",f.clearTransformationOrigin(this._transformationPlane),this._hitArea=document.createElement("div"),this._hitArea.className="awesomeMap-hitArea",e(this._hitArea),t.getBrowser()===t.Browsers.IE&&(this._hitArea.style.backgroundColor="rgba(255,255,255,0.01)"),this._viewport.appendChild(this._transformationPlane),this._viewport.appendChild(this._hitArea),this._host.appendChild(this._viewport)},_invalidateContentDimensions:function(e){var t;if(e||!this._customContentDimensions)this._contentDimensions=null,t=this.getContentDimensions()},_setDefaultZoomOrigin:function(e){if(this.isDisabled()&&!e.originX&&!e.originY){var t=this.getViewportDimensions();e.originX=t.width/2,e.originY=t.height/2}},_validateConfiguration:function(){var e=this._host;if(!e)throw new Error("AwesomeMap configuration: host is required.");if(!document.body.contains(e))throw new Error("AwesomeMap configuration: host is not in the DOM.");var t=window.getComputedStyle(e);if(!parseInt(t.width,10)||!parseInt(t.height,10))throw new Error("AwesomeMap configuration: host does not have any size.")}},l}),i("wf-js-uicomponents/awesome_map/InterceptorMixin",["require","wf-js-common/DestroyUtil"],function(e){var t=e("wf-js-common/DestroyUtil"),n={dispose:function(){var e=this._awesomeMap;e&&!e.isDisposed()&&(e.onInteraction.remove(this._onInteractionCallback),e.onTransformFinished.remove(this._onTransformFinishedCallback),e.onTransformStarted.remove(this._onTransformStartedCallback)),t.destroy(this)},register:function(e){if(e.isDisposed())return;if(this._awesomeMap)throw new Error("This interceptor is already registered.");this._awesomeMap=e;if(this._onInteraction||this.handleInteraction)this._onInteractionCallback=(this._onInteraction||this.handleInteraction).bind(this),e.onInteraction(this._onInteractionCallback);if(this._onTransformFinished||this.handleTransformFinished)this._onTransformFinishedCallback=(this._onTransformFinished||this.handleTransformFinished).bind(this),e.onTransformFinished(this._onTransformFinishedCallback);if(this._onTransformStarted||this.handleTransformStarted)this._onTransformStartedCallback=(this._onTransformStarted||this.handleTransformStarted).bind(this),e.onTransformStarted(this._onTransformStartedCallback)}};return n}),i("wf-js-uicomponents/awesome_map/BoundaryInterceptor",["require","lodash","wf-js-uicomponents/awesome_map/EasingFunctions","wf-js-uicomponents/awesome_map/EventTypes","wf-js-uicomponents/awesome_map/InterceptorMixin","wf-js-common/Utils"],function(e){function a(e,t,n,r,i){var s,u,a=e;return e<t?(s=n+(r-t),u=s/o,a=t+Math.max(u,-i)):(s=n-(t-r),u=s/o,a=t+Math.min(u,i)),Math.round(a)}var t=e("lodash"),n=e("wf-js-uicomponents/awesome_map/EasingFunctions"),r=e("wf-js-uicomponents/awesome_map/EventTypes"),i=e("wf-js-uicomponents/awesome_map/InterceptorMixin"),s=e("wf-js-common/Utils"),o=4,u={SLOW:"slow",STOP:"stop"},f=function(e){e=e||{},this._animationDuration=s.valueOr(e.animationDuration,250),this._centerContent=!!e.centerContent,this._easing=e.easing||n.easeOutQuart,this._mode=e.mode,e.mode===undefined?this._mode={x:u.STOP,y:u.STOP}:typeof e.mode=="string"&&(this._mode={x:e.mode,y:e.mode})};return f.prototype={getSettings:function(){return{animationDuration:this._animationDuration,centerContent:this._centerContent,easing:this._easing,mode:this._mode}},handleTransformStarted:function(e,t){var n=t.event,i=t.targetState,s=n.type;switch(s){case r.TOUCH:this._touchState=i;break;case r.DRAG:case r.DRAG_END:case r.DRAG_START:!n.simulated&&this._mode.x===u.SLOW?this._pullToBoundaries(n,i,"x"):this._stopAtBoundaries(n,i,"x"),!n.simulated&&this._mode.y===u.SLOW?this._pullToBoundaries(n,i,"y"):this._stopAtBoundaries(n,i,"y");break;case r.MOUSE_WHEEL:case r.SWIPE:this._stopAtBoundaries(n,i);break;case r.RELEASE:case r.RESIZE:this._snapToBoundaries(n,i)}},_accelerateAnimationAtBoundaries:function(e,t,n){var r=e.iterativeGesture,i=this._awesomeMap.getCurrentTransformState(),s=1,o=1,u,a,f;n.translateX!==t.translateX&&(r.direction==="left"||r.direction==="right")&&(u=n.translateX-i.translateX,a=t.translateX-i.translateX,s=a/u),n.translateY!==t.translateY&&(r.direction==="up"||r.direction==="down")&&(u=n.translateY-i.translateY,a=t.translateY-i.translateY,o=a/u),f=t.duration*Math.min(s,o),t.duration=Math.max(this._animationDuration,f)},_getBoundedPosition:function(e){var t=e.scale,n=this._awesomeMap.getViewportDimensions(),r=this._awesomeMap.getContentDimensions(),i=n.width-t*r.width,s=n.height-t*r.height,o=this._getBoundedValue(i,e.translateX),u=this._getBoundedValue(s,e.translateY);return{x:Math.round(o),y:Math.round(u)}},_getBoundedValue:function(e,t){var n=t;return e>0?this._centerContent?n=e/2:t<0?n=0:t>e&&(n=e):t>0?n=0:t<e&&(n=e),n},_pullToBoundaries:function(e,t,n){var r=t.scale,i=this._awesomeMap.getViewportDimensions(),s=this._awesomeMap.getContentDimensions(),u=r*s.width,f=this._touchState||{translateX:0,translateY:0},l,c,h=this._getBoundedPosition(t);if(!n||n==="x")l=t.translateX,h.x!==l&&(t.translateX=a(l,h.x,e.cumulativeGesture.deltaX,f.translateX,u/o));if(!n||n==="y")c=t.translateY,h.y!==c&&(t.translateY=a(c,h.y,e.cumulativeGesture.deltaY,f.translateY,i.height/o))},_snapToBoundaries:function(e,t){var n=t.clone(),i=this._getBoundedPosition(t);t.translateX=i.x,t.translateY=i.y,(n.translateX!==t.translateX||n.translateY!==t.translateY)&&e.type!==r.RESIZE&&(t.duration=this._animationDuration,t.easing=this._easing)},_stopAtBoundaries:function(e,t,n){var i=t.clone(),s=this._getBoundedPosition(t);if(!n||n==="x")t.translateX=s.x;if(!n||n==="y")t.translateY=s.y;e.type===r.SWIPE&&this._accelerateAnimationAtBoundaries(e,t,i)}},t.assign(f.prototype,i),f}),i("wf-js-uicomponents/scroll_list/PeekInterceptor",["require","lodash","wf-js-uicomponents/awesome_map/EventTypes","wf-js-uicomponents/awesome_map/InterceptorMixin"],function(e){var t=e("lodash"),n=e("wf-js-uicomponents/awesome_map/EventTypes"),r=e("wf-js-uicomponents/awesome_map/InterceptorMixin"),i=function(e){this._forceJump=!1,this._peekDelta=0,this._peeking=!1,this._scrollList=e};return i.prototype={handleInteraction:function(e,t){var r=t.event;if(r.simulated||this._scrollList.isDisabled())return;switch(r.type){case n.TOUCH:this._setPeekDeltaByCurrentPosition();break;case n.DRAG:case n.DRAG_END:case n.DRAG_START:this._handleDragEvent(r);break;case n.SWIPE:this._handleSwipeEvent(r);break;case n.RELEASE:this._handleReleaseEvent()}return!this._peeking},_handleDragEvent:function(e){var t=this._scrollList.getCurrentItemMap(),n=t.getViewportDimensions().height,r=t.getContentDimensions().height,i=t.getCurrentTransformState(),s=i.translateY,o=i.translateY+Math.floor(r*i.scale),u=this._awesomeMap,a=u.getCurrentTransformState(),f=u.getContentDimensions().height,l=a.translateY,c=a.translateY+f,h=a.translateY;this._setPeekDeltaByCurrentPosition();var p=this._peekDelta,d=e.iterativeGesture.deltaY,v;d>0&&l+s+d>=0||d<0&&c+(o-n)+d<=n?(v=d>0?0:n-f,this._resetPeekState()):d>0&&s>=0||d<0&&o<=n?(v=h+d,this._peeking=!0,this._peekDelta+=d):p!==0&&(d>0&&p+d<0||d<0&&p+d>0?(v=h+d,this._peekDelta+=d):d!==0&&(v=h-this._peekDelta,this._resetPeekState())),v!==undefined&&u.transform({x:a.translateX,y:v,scale:a.scale})},_handleSwipeEvent:function(e){var t=this._peekDelta;if(this._peekDelta!==0){var n=e.iterativeGesture.direction;n==="up"&&t<0?this._forceJump=1:n==="down"&&t>0&&(this._forceJump=-1)}},_handleReleaseEvent:function(){if(!this._peeking)return;var e=this._scrollList,t=e.getLayout(),n=t.getCurrentItemIndex();if(this._forceJump)n+=this._forceJump;else{var r=this._peekDelta,i=t.getViewportSize().height;Math.abs(r)>i/2&&(n+=r>0?-1:1)}e.scrollTo({index:n,duration:250}),this._resetPeekState()},_resetPeekState:function(){this._peekDelta=0,this._peeking=!1,this._forceJump=!1},_setPeekDeltaByCurrentPosition:function(){var e=this._awesomeMap.getCurrentTransformState(),t=-e.translateY/e.scale,n=this._scrollList.getLayout(),r=n.getCurrentItemIndex(),i=n.getItemLayout(r),s=i.top;t!==s&&(this._peeking=!0,this._peekDelta=s-t)}},t.assign(i.prototype,r),i}),i("wf-js-uicomponents/awesome_map/DoubleTapZoomInterceptor",["require","lodash","wf-js-uicomponents/awesome_map/EventTypes","wf-js-uicomponents/awesome_map/InterceptorMixin"],function(e){var t=e("lodash"),n=e("wf-js-uicomponents/awesome_map/EventTypes"),r=e("wf-js-uicomponents/awesome_map/InterceptorMixin"),i=function(e){this._handleDoubleTap=!1,this._options=t.extend({animationDuration:500},e)};return i.prototype={handleInteraction:function(e,t){t.event.type===n.DOUBLE_TAP&&(this._handleDoubleTap=!0)},handleTransformStarted:function(e,t){var r=t.event;this._handleDoubleTap&&r.type===n.RELEASE&&(this._performZoom(r,t.targetState),this._handleDoubleTap=!1)},_performZoom:function(e,t){var n=t.scale,r=n===1?2:1,i=e.position;t.zoomBy(r/n,0,0,i.x,i.y),t.duration=this._options.animationDuration}},t.assign(i.prototype,r),i}),i("wf-js-uicomponents/scroll_list/HitTester",[],function(){var e={testItemMap:function(e,t,n){if(!t.position)return!1;var r=t.position,i=n.scale,s=e.getLayout(),o=s.getCurrentItemIndex(),u=s.getItemLayout(o),a={top:n.translateY+u.paddingTop*i,right:n.translateX+(u.outerWidth-u.paddingRight)*i,bottom:n.translateY+(u.outerHeight-u.paddingBottom)*i,left:n.translateX+u.paddingLeft*i};return r.x>=a.left&&r.x<=a.right&&r.y>=a.top&&r.y<=a.bottom?{index:o,position:{x:Math.floor((r.x-a.left)/i),y:Math.floor((r.y-a.top)/i)}}:!1},testListMap:function(e,t,n){if(!t.position)return!1;var r=t.position,i=n.scale,s=e.getLayout(),o=(s.getViewportSize().width-s.getSize().width)/2,u=s.getVisibleItemRange(),a,f,l;for(l=u.startIndex;l<=u.endIndex;l++){a=s.getItemLayout(l),f={top:n.translateY+(a.top+a.paddingTop)*i,right:n.translateX+(a.right-o-a.paddingRight)*i,bottom:n.translateY+(a.bottom-a.paddingBottom)*i,left:n.translateX+(a.left-o+a.paddingLeft)*i};if(r.x>=f.left&&r.x<=f.right&&r.y>=f.top&&r.y<=f.bottom)return{index:l,position:{x:Math.floor((r.x-f.left)/i),y:Math.floor((r.y-f.top)/i)}}}return!1}};return e}),i("wf-js-uicomponents/scroll_list/MouseWheelNavigationInterceptor",["require","lodash","wf-js-uicomponents/awesome_map/EventTypes","wf-js-uicomponents/awesome_map/InterceptorMixin"],function(e){var t=e("lodash"),n=e("wf-js-uicomponents/awesome_map/EventTypes"),r=e("wf-js-uicomponents/awesome_map/InterceptorMixin"),i=function(e){this._scrollList=e,this._debounced=null};return i.prototype={handleInteraction:function(e,t){var r=t.event;if(r.type===n.MOUSE_WHEEL)if(this._debounced||this._handleMouseWheel(r))return this._debounce(),!1},_debounce:function(){var e=this;this._debounced&&clearTimeout(this._debounced),this._debounced=setTimeout(function(){e._debounced=null},100)},_handleMouseWheel:function(e){var t=e.iterativeGesture.deltaY,n=this._scrollList,r=n.getCurrentItem().index,i,s=this._awesomeMap,o=s.getViewportDimensions().height,u=n.getCurrentItemMap(),a=u.getCurrentTransformState(),f=u.getContentDimensions().height,l=a.translateY,c=l+Math.floor(f*a.scale);return t<0&&c>o&&c+t<=o||t>0&&l<0&&l+t>=0?(this._debounce(),!1):t<0&&c<=o||t>0&&l>=0?(i=r+(t<0?1:-1),n.scrollTo({index:i,duration:0}),!0):!1}},t.assign(i.prototype,r),i}),i("wf-js-uicomponents/scroll_list/PropogationInterceptor",["require","lodash","wf-js-uicomponents/awesome_map/InterceptorMixin"],function(e){var t=e("lodash"),n=e("wf-js-uicomponents/awesome_map/InterceptorMixin"),r=function(e){this._scrollList=e};return r.prototype={handleInteraction:function(e,t){var n=t.event;if(n.cancelled||n.simulated)return;return this._scrollList.getCurrentItemMap().handleInteractionEvent(this,{event:n}),!1}},t.assign(r.prototype,n),r}),i("wf-js-uicomponents/scroll_list/ScrollModes",[],function(){var e={FLOW:"flow",PEEK:"peek",SINGLE:"single"};return e}),i("wf-js-uicomponents/scroll_list/RenderingHooksInterceptor",["require","lodash","wf-js-uicomponents/awesome_map/InterceptorMixin","wf-js-uicomponents/scroll_list/ScrollModes","wf-js-uicomponents/awesome_map/EventTypes","wf-js-common/requestAnimationFrame"],function(e){var t=e("lodash"),n=e("wf-js-uicomponents/awesome_map/InterceptorMixin"),r=e("wf-js-uicomponents/scroll_list/ScrollModes"),i=e("wf-js-uicomponents/awesome_map/EventTypes"),s=e("wf-js-common/requestAnimationFrame"),o=function(e){this._debouncedLoad=t.debounce(function(){e.getLayout().loadContent()},100),this._scrollList=e};return o.prototype={handleTransformStarted:function(e,t){if(this._scrollList.getOptions().mode!==r.FLOW)return;var n=t.event.type,o=t.targetState;n===i.SWIPE?(this._renderLayout(),s(function(){this._renderLayout(o)}.bind(this))):n===i.MOUSE_WHEEL&&this._renderLayout()},handleTransformFinished:function(e,t){var n=t.event.type;n===i.RELEASE?(this._renderLayout(),e.isTransforming()||this._scrollList.render()):n===i.MOUSE_WHEEL&&this._debouncedLoad()},_renderLayout:function(e){var t=this._scrollList.getLayout(),n=e?{top:e.translateY,left:e.translateX}:null;t.render(n)}},t.assign(o.prototype,n),o}),i("wf-js-uicomponents/awesome_map/ScaleInterceptor",["require","lodash","wf-js-uicomponents/awesome_map/EasingFunctions","wf-js-uicomponents/awesome_map/EventTypes","wf-js-uicomponents/awesome_map/InterceptorMixin","wf-js-common/Utils"],function(e){function f(e,t,n,r){var i,s;return e<t?(i=r-t/o,s=(n*r-t)/u,t+Math.min(s,i)):(i=t*o-r,s=(n*r-t)/u,t+Math.min(s,i))}var t=e("lodash"),n=e("wf-js-uicomponents/awesome_map/EasingFunctions"),r=e("wf-js-uicomponents/awesome_map/EventTypes"),i=e("wf-js-uicomponents/awesome_map/InterceptorMixin"),s=e("wf-js-common/Utils"),o=1.5,u=4,a={SLOW:"slow",STOP:"stop"},l=function(e){e=e||{},this._animationDuration=s.valueOr(e.animationDuration,250),this._easing=e.easing||n.easeOutQuart,this._minimum=e.minimum||1,this._maximum=e.maximum||1,this._mode=e.mode||a.STOP};return l.prototype={getSettings:function(){return{animationDuration:this._animationDuration,easing:this._easing,minimum:this._minimum,maximum:this._maximum,mode:this._mode}},handleTransformStarted:function(e,t){var n=t.event,i=t.targetState,s=n.type;if(s===r.TOUCH)this._touchState=i;else if(s===r.RELEASE)this._snapToLimit(n,i);else if(s===r.TRANSFORM||s===r.TRANSFORM_START)this._mode===a.SLOW?this._pullToLimit(n,i):this._stopAtLimit(n,i)},setMaximumScale:function(e){this._maximum=e},setMinimumScale:function(e){this._minimum=e},_pullToLimit:function(e,t){var n=t.scale,r=t.scale,i=e.cumulativeGesture.scale,s=this._touchState||{scale:1};n<this._minimum?r=f(n,this._minimum,i,s.scale):n>this._maximum&&(r=f(n,this._maximum,i,s.scale)),r!==n&&t.zoomBy(r/n,0,0,e.position.x,e.position.y)},_snapToLimit:function(e,t){var n=t.scale,r=t.scale;n<this._minimum?r=this._minimum:n>this._maximum&&(r=this._maximum),r!==n&&(t.zoomBy(r/n,0,0,e.position.x,e.position.y),t.duration=this._animationDuration,t.easing=this._easing)},_stopAtLimit:function(e,t){var n=t.scale,r=t.scale,i=this._minimum,s=this._maximum;n<i?r=i:n>s&&(r=s),r!==n&&t.zoomBy(r/n,0,0,e.position.x,e.position.y)}},t.assign(l.prototype,i),l}),i("wf-js-uicomponents/awesome_map/SwipeInterceptor",["require","lodash","wf-js-uicomponents/awesome_map/EasingFunctions","wf-js-uicomponents/awesome_map/EventTypes","wf-js-uicomponents/awesome_map/InterceptorMixin"],function(e){var t=e("lodash"),n=e("wf-js-uicomponents/awesome_map/EasingFunctions"),r=e("wf-js-uicomponents/awesome_map/EventTypes"),i=e("wf-js-uicomponents/awesome_map/InterceptorMixin"),s=Math.PI/180,o=function(e){e=e||{},this._animationDuration=e.animationDuration===undefined?1e3:e.animationDuration,this._constrainToAxes=!!e.constrainToAxes,this._easing=e.easing||n.easeOutQuart,this._throttleVelocity=e.throttleVelocity===undefined?4:e.throttleVelocity};return o.prototype={getSettings:function(){return{animationDuration:this._animationDuration,constrainToAxes:this._constrainToAxes,easing:this._easing,throttleVelocity:this._throttleVelocity}},handleTransformStarted:function(e,t){var n=t.event,i=t.targetState,s=n.iterativeGesture,o,u;if(n.type===r.SWIPE){o=i.translateX,u=i.translateY,this._constrainToAxes?this._swipeByDirection(s,i):this._swipeByAngle(s,i);if(i.translateX!==o||i.translateY!==u)i.duration=this._animationDuration,i.easing=this._easing}},_getDeltas:function(e){var t=this._awesomeMap.getViewportDimensions(),n=this._throttleVelocity,r=e.velocityX,i=e.velocityY,s,o;return n&&(r=Math.min(n,r),i=Math.min(n,i)),s=r*t.width,o=i*t.height,{x:s,y:o}},_swipeByAngle:function(e,t){var n=this._getDeltas(e),r=e.angle*s,i=Math.cos(r)*n.x,o=Math.sin(r)*n.y;t.translateX+=i,t.translateY+=o},_swipeByDirection:function(e,t){var n=this._getDeltas(e);e.direction==="right"?t.translateX+=n.x:e.direction==="left"&&(t.translateX+=-n.x),e.direction==="down"?t.translateY+=n.y:e.direction==="up"&&(t.translateY+=-n.y)}},t.assign(o.prototype,i),o}),i("wf-js-uicomponents/scroll_list/SwipeNavigationInterceptor",["require","lodash","wf-js-uicomponents/awesome_map/EventTypes","wf-js-uicomponents/awesome_map/InterceptorMixin"],function(e){var t=e("lodash"),n=e("wf-js-uicomponents/awesome_map/EventTypes"),r=e("wf-js-uicomponents/awesome_map/InterceptorMixin"),i=function(e){this._validateConfiguration(e),this._scrollList=e};return i.prototype={handleInteraction:function(e,t){var r=t.event,i,s,o;if(r.type===n.SWIPE){o=r.iterativeGesture.direction,i=this._scrollList.getCurrentItem().index,s=this._getContentIndex(o);if(s!==i&&this._isContentBoundaryVisible(o))return this._scrollList.scrollTo({index:s}),!1}},_getContentIndex:function(e){var t=this._scrollList.getCurrentItem().index,n=this._scrollList.getItemMetadata().length;return e==="up"&&t<n-1?t+1:e==="down"&&t>0?t-1:t},_isContentBoundaryVisible:function(e){var t=this._scrollList.getCurrentItemMap(),n=t.getViewportDimensions().height,r=t.getContentDimensions().height,i=t.getCurrentTransformState(),s=r*i.scale+i.translateY;return e==="up"&&s<=n?!0:e==="down"&&i.translateY>=0?!0:!1},_validateConfiguration:function(e){if(!e)throw new Error("SwipeNavigationInterceptor configuration: scrollList is required.")}},t.assign(i.prototype,r),i}),i("wf-js-uicomponents/scroll_list/ViewportResizeInterceptor",["require","lodash","wf-js-uicomponents/awesome_map/EventTypes","wf-js-uicomponents/awesome_map/InterceptorMixin"],function(e){var t=e("lodash"),n=e("wf-js-uicomponents/awesome_map/EventTypes"),r=e("wf-js-uicomponents/awesome_map/InterceptorMixin"),i=function(e){this._scrollList=e,this._debouncedRefresh=t.debounce(function(){e.refresh()},100)};return i.prototype={handleInteraction:function(e,t){if(t.event.type===n.RESIZE)return this._debouncedRefresh(),!1}},t.assign(i.prototype,r),i}),i("wf-js-uicomponents/scroll_list/AwesomeMapFactory",["require","wf-js-uicomponents/awesome_map/AwesomeMap","wf-js-uicomponents/awesome_map/BoundaryInterceptor","wf-js-uicomponents/scroll_list/PeekInterceptor","wf-js-uicomponents/awesome_map/DoubleTapZoomInterceptor","wf-js-uicomponents/scroll_list/HitTester","wf-js-uicomponents/scroll_list/MouseWheelNavigationInterceptor","wf-js-uicomponents/scroll_list/PropogationInterceptor","wf-js-uicomponents/scroll_list/RenderingHooksInterceptor","wf-js-uicomponents/awesome_map/ScaleInterceptor","wf-js-uicomponents/scroll_list/ScrollModes","wf-js-uicomponents/awesome_map/SwipeInterceptor","wf-js-uicomponents/scroll_list/SwipeNavigationInterceptor","wf-js-uicomponents/scroll_list/ViewportResizeInterceptor"],function(e){var t=e("wf-js-uicomponents/awesome_map/AwesomeMap"),n=e("wf-js-uicomponents/awesome_map/BoundaryInterceptor"),r=e("wf-js-uicomponents/scroll_list/PeekInterceptor"),i=e("wf-js-uicomponents/awesome_map/DoubleTapZoomInterceptor"),s=e("wf-js-uicomponents/scroll_list/HitTester"),o=e("wf-js-uicomponents/scroll_list/MouseWheelNavigationInterceptor"),u=e("wf-js-uicomponents/scroll_list/PropogationInterceptor"),a=e("wf-js-uicomponents/scroll_list/RenderingHooksInterceptor"),f=e("wf-js-uicomponents/awesome_map/ScaleInterceptor"),l=e("wf-js-uicomponents/scroll_list/ScrollModes"),c=e("wf-js-uicomponents/awesome_map/SwipeInterceptor"),h=e("wf-js-uicomponents/scroll_list/SwipeNavigationInterceptor"),p=e("wf-js-uicomponents/scroll_list/ViewportResizeInterceptor"),d={createItemMap:function(e,r){var s=new t(r),o=e.getOptions();return s.addInterceptor(new i),s.addInterceptor(new c({animationDuration:250,constrainToAxes:!0})),o.scaleLimits&&s.addInterceptor(new f(o.scaleLimits)),s.addInterceptor(new n({centerContent:!0,mode:"stop"})),s.onScaleChanged(function(t,n){e.onScaleChanged.dispatch([this,{event:n.event,scale:e.getScale()}])}),s},createListMap:function(e){var d=new t(e.getHost()),v=e.getLayout(),m=e.getOptions();return d.setContentDimensions(v.getSize()),d.addInterceptor(new p(e)),m.mode===l.FLOW?(d.addInterceptor(new i),d.addInterceptor(new c({animationDuration:2e3,constrainToAxes:!0})),m.scaleLimits&&d.addInterceptor(new f(m.scaleLimits)),d.addInterceptor(new n({centerContent:!0,mode:{x:"stop",y:"slow"}}))):(m.mode===l.PEEK?d.addInterceptor(new r(e)):d.addInterceptor(new h(e)),d.addInterceptor(new o(e)),d.addInterceptor(new u(e))),d.addInterceptor(new a(e)),d.onInteractionStarted(function(){e.onInteractionStarted.dispatch([e])}),d.onInteraction(function(t,n){var r={event:n.event},i=s[m.mode===l.FLOW?"testListMap":"testItemMap"],o=i(e,n.event,n.currentState);o&&(r.itemIndex=o.index,r.itemPosition=o.position),e.onInteraction.dispatch([e,r])}),d.onInteractionFinished(function(){e.onInteractionFinished.dispatch([e])}),d.onTranslationChanged(function(t,n){e.getLayout().setScrollPosition({top:n.y,left:n.x})}),d.onScaleChanged(function(t,n){e.getLayout().setScale(n.scale),e.onScaleChanged.dispatch([this,{event:n.event,scale:e.getScale()}])}),d.transform({x:(v.getViewportSize().width-v.getSize().width)/2,y:0,scale:1}),d}};return d}),i("wf-js-uicomponents/scroll_list/FitModes",[],function(){var e={AUTO:"auto",WIDTH:"width",HEIGHT:"height"};return e}),i("wf-js-uicomponents/scroll_list/PlaceholderRenderer",["require","wf-js-uicomponents/scroll_list/AwesomeMapFactory","wf-js-common/BrowserInfo","wf-js-common/DestroyUtil","wf-js-common/Observable","wf-js-uicomponents/scroll_list/ScrollModes"],function(e){var t=e("wf-js-uicomponents/scroll_list/AwesomeMapFactory"),n=e("wf-js-common/BrowserInfo"),r=e("wf-js-common/DestroyUtil"),i=e("wf-js-common/Observable"),s=e("wf-js-uicomponents/scroll_list/ScrollModes"),o=function(e){this.onLoading=i.newObservable(),this.onRendered=i.newObservable(),this.onRemoved=i.newObservable(),this.onUnloaded=i.newObservable(),this._placeholders={},this._pool=[],this._scrollList=e};return o.prototype={get:function(e){return this._placeholders[e]},appendPlaceholderToScrollList:function(e,n){var r=this._scrollList,i=r.getListMap(),o=r.getLayout(),u=o.getSize(),a=o.getViewportSize(),f=a.height,l=a.width;if(r.getOptions().mode===s.FLOW){var c=e.left,h=u.width;h<l?c=Math.round(e.left-(l-h)/2):h>l&&(c=Math.round(e.left+(h-l)/2));var p=n.element;p.style.left=c+"px",i.appendContent(p)}else{var d=0,v=0,m=e.outerHeight;o.getCurrentItemIndex()>e.itemIndex&&m>f?d=f-m:m<f&&(d=Math.round((f-m)/2));var g=e.outerWidth;g<l&&(v=Math.round((l-g)/2));var y=n.map;y?i.appendContent(n.element):(n.element.removeChild(n.contentContainer),i.appendContent(n.element),y=t.createItemMap(r,n.element),n.map=y),y.setContentDimensions({width:g,height:m}),y.transform({x:v,y:d,scale:1});var b=n.contentContainer;b.style.top=null,b.style.left=null,y.appendContent(b)}},dispose:function(){var e=this,t=this._placeholders;Object.keys(t).forEach(function(n){var r=t[n];r.map&&(r.map.dispose(),r.map=null),e.remove(+n)}),this.onLoading.dispose(),this.onRendered.dispose(),this.onRemoved.dispose(),this.onUnloaded.dispose(),r.destroy(this)},load:function(e){var t=e.itemIndex,n=this._placeholders[t];return!n||n.hasContent?!1:(this.onLoading.dispatch([this,{itemIndex:t,placeholder:n,scaleToFit:e.scaleToFit,width:e.width,height:e.height}]),n.hasContent=!0,!0)},refresh:function(){var e=this._pool.slice(),t=this._placeholders;Object.keys(t).forEach(function(n){e.push(t[n])}),e.forEach(function(e){e.map&&e.map.invalidateViewportDimensions()})},remove:function(e){var t=this._placeholders[e];return t?(this.unload(e),this._scrollList.getListMap().removeContent(t.element),t.map&&t.map.removeContent(t.contentContainer),this.onRemoved.dispatch([this,{itemIndex:e,placeholder:t}]),delete this._placeholders[e],this._pool.push(t),!0):!1},render:function(e){var t=e.itemIndex;if(this._placeholders[t])return!1;var r,i,s=this._pool.pop();return s?(i=s.element,r=s.contentContainer):(r=document.createElement("div"),r.style.position="absolute",r.style.overflow="hidden",r.style.boxSizing="content-box",i=document.createElement("div"),i.appendChild(r),i.style.position="absolute",i.style.overflow="hidden",s={element:i,contentContainer:r,hasContent:!1}),r.className="scrollList-contentContainer",r.style.top=e.offsetTop+"px",r.style.left=e.offsetLeft+"px",r.style.width=e.width+"px",r.style.height=e.height+"px",r.style.marginTop=e.paddingTop+"px",r.style.marginBottom=e.paddingBottom+"px",r.style.marginRight=e.paddingRight+"px",r.style.marginLeft=e.paddingLeft+"px",i.className="scrollList-placeholder",i.style.top=e.top+"px",i.style.left=e.left+"px",i.style.width=e.right-e.left+"px",i.style.height=e.bottom-e.top+"px",n.hasCssTransforms3d&&(i.style[n.cssTransformProperty]="translateZ(0px)"),this._placeholders[t]=s,this.appendPlaceholderToScrollList(e,s),this.onRendered.dispatch([this,{itemIndex:t,placeholder:s}]),!0},unload:function(e){var t=this._placeholders[e];return!t||!t.hasContent?!1:(this._clearChildren(t.contentContainer),this.onUnloaded.dispatch([this,{itemIndex:e,placeholder:t}]),t.hasContent=!1,!0)},_clearChildren:function(e){while(e.firstChild)e.removeChild(e.firstChild)}},o}),i("wf-js-uicomponents/scroll_list/ScaleTranslator",["require","wf-js-common/DestroyUtil","wf-js-uicomponents/awesome_map/ScaleInterceptor"],function(e){var t=e("wf-js-common/DestroyUtil"),n=e("wf-js-uicomponents/awesome_map/ScaleInterceptor"),r=function(e,t,n){this._baseScale=1,this._itemIndex=n,this._map=t,this._scrollList=e,this._initialize()};return r.prototype={attach:function(e,t){this._map=e,this._itemIndex=t,this._initialize()},dispose:function(){t.destroy(this)},fromMapScale:function(){var e=this._map.getScale();return this._isDisabled()?e:e*this._baseScale},toMapScale:function(e){return this._isDisabled()?e:e/this._baseScale},_initialize:function(){var e=this._scrollList,t=e.getLayout(),r=t.getItemLayout(this._itemIndex).scaleToFit;this._baseScale=r;var i=this._map.getInterceptor(n);if(i){var s=e.getOptions().scaleLimits,o=this.toMapScale(Math.min(r,s.minimum));i.setMinimumScale(o);var u=this.toMapScale(Math.max(r,s.maximum));i.setMaximumScale(u)}},_isDisabled:function(){return this._scrollList.getOptions().disableScaleTranslation}},r}),i("wf-js-uicomponents/layouts/ItemLayout",["require","wf-js-common/Utils"],function(e){var t=e("wf-js-common/Utils"),n=function(e){e=e||{},this.bottom=e.bottom||0,this.height=e.height||0,this.itemIndex=t.valueOr(e.itemIndex,-1),this.left=e.left||0,this.offsetLeft=e.offsetTop||0,this.offsetTop=e.offsetTop||0,this.outerHeight=e.outerHeight||0,this.outerWidth=e.outerWidth||0,this.paddingBottom=e.paddingBottom||0,this.paddingLeft=e.paddingLeft||0,this.paddingRight=e.paddingRight||0,this.paddingTop=e.paddingTop||0,this.right=e.right||0,this.scaleToFit=e.scaleToFit||1,this.top=e.top||0,this.width=e.width||0};return n}),i("wf-js-uicomponents/layouts/ScaleStrategies",[],function(){function e(e,t){return(e-t*2)/e}var t={auto:function(e,n,r){var i=t.width(e,n,r),s=t.height(e,n,r);return Math.min(i,s)},height:function(t,n,r){var i=t.height,s=0,o=Array.isArray(n)?n:[n],u=o.length,a,f;for(a=0;a<u;a++)f=o[a],f.height>s&&(s=f.height);return i/s*e(i,r)},width:function(t,n,r){var i=t.width,s=Array.isArray(n)?n:[n],o=s.length,u=0,a,f;for(a=0;a<o;a++)f=s[a],f.width>u&&(u=f.width);return i/u*e(i,r)}};return t}),i("wf-js-uicomponents/layouts/VerticalLayout",["require","lodash","wf-js-common/DestroyUtil","wf-js-common/DOMUtil","wf-js-uicomponents/layouts/ItemLayout","wf-js-common/Observable","wf-js-uicomponents/layouts/ScaleStrategies"],function(e){var t=e("lodash"),n=e("wf-js-common/DestroyUtil"),r=e("wf-js-common/DOMUtil"),i=e("wf-js-uicomponents/layouts/ItemLayout"),s=e("wf-js-common/Observable"),o=e("wf-js-uicomponents/layouts/ScaleStrategies"),u=function(e,n,r,i){this.onCurrentItemIndexChanged=s.newObservable(),this._cache={currentItemIndex:null,itemLayouts:[],itemRangeToRender:null,lastItemIndex:null,lastRenderedItemRange:null,lastRenderedPosition:null,positionToRender:null,size:null,viewportSize:null,visiblePosition:null},this._itemMetadata=n,this._options=t.extend({directionalRenderingWeight:.8,eagerRenderingFactor:1,fit:"width",fitUpscaleLimit:1,flow:!0,gap:0,horizontalAlign:"center",minNumberOfVirtualItems:3,padding:0,verticalAlign:"middle"},i),this._renderer=r,this._scale=1,this._scrollDirection=1,this._scrollPosition={top:0,left:0},this._viewport=e,this._initialize()};return u.prototype={getItemLayout:function(e){return this._cache.itemLayouts[e]},getItemLayouts:function(){return this._cache.itemLayouts},getItemMetadata:function(){return this._itemMetadata},getOptions:function(){return t.extend({},this._options)},getRenderedItemRange:function(){return this._cache.lastRenderedItemRange},getSize:function(){return this._cache.size},getViewportSize:function(){return this._cache.viewportSize},setScale:function(e){e!==this._scale&&this._invalidatePosition(),this._scale=e},setScrollPosition:function(e){var t=e.top,n=this._scrollPosition.top;t!==n&&(this._scrollDirection=t<n?-1:1,this._invalidatePosition()),this._scrollPosition=e},clear:function(){var e=this._cache.lastRenderedItemRange,t;for(t=e.startIndex;t<=e.endIndex;t++)this._renderer.remove(t);this._cache.lastItemIndex=null},dispose:function(){this.onCurrentItemIndexChanged.dispose(),n.destroy(this)},ensureMinNumberOfVirtualItems:function(e){var t=e.endIndex-e.startIndex+1,n=this._options.minNumberOfVirtualItems;if(t>=n)return;var r=this._itemMetadata.length,i=n-t,s=this._scrollDirection,o=this._options.directionalRenderingWeight,u=s>0?o:1-o,a=s>0?1-o:o,f=e.startIndex-Math.ceil(i*u),l=e.endIndex+Math.ceil(i*a);f<0?(f=0,l=n-1):l>r-1&&(l=r-1,f=l-n+1),e.startIndex=f,e.endIndex=l},getCurrentItemIndex:function(){if(this._cache.currentItemIndex!==null)return this._cache.currentItemIndex;var e=this.getVisiblePosition().center,t=this.getItemRangeToRender(),n=t.startIndex,r=t.endIndex,i,s,o=-1;for(s=n;s<=r;s++){i=this.getItemLayout(s);if(i.top<=e&&i.bottom>=e){o=s;break}}return this._cache.currentItemIndex=o,o},getItemRangeToRender:function(e){if(!e&&this._cache.itemRangeToRender)return this._cache.itemRangeToRender;var t={startIndex:0,endIndex:0},n=this.getItemMetadata().length,r,i;if(n<=this._options.minNumberOfVirtualItems)t.endIndex=n-1;else{i=this.getPositionToRender(e),r=0;while(r<n&&this.getItemLayout(r).bottom<=i.top)r++;t.startIndex=r;while(r<n&&this.getItemLayout(r).top<i.bottom)r++;t.endIndex=r-1,this.ensureMinNumberOfVirtualItems(t)}return this._cache.itemRangeToRender=t,t},getPositionToRender:function(e){if(!e&&this._cache.positionToRender)return this._cache.positionToRender;var t,n=this._scrollPosition,r=n.top,i=e?e.top:null,s=this.getSize().height,o=this.getViewportSize().height/this._scale,u=this._unscale(-r),a=this._unscale(-r)+o,f=o*this._options.eagerRenderingFactor,l=f,c=f;return i!==null&&(i<r?(l=0,c+=this._unscale(r-i)):i>r&&(l+=this._unscale(i-r),c=0)),u-=l,a+=c,t={top:Math.max(0,u),bottom:Math.min(s,a)},this._cache.positionToRender=t,t},getOrderedRenderedItemIndexes:function(){var e=this.getVisiblePosition().center,t=this.getCurrentItemIndex(),n=this._cache.lastRenderedItemRange,r=[],i,s,o;if(!n)throw new Error("VerticalLayout: the layout has not been rendered.");for(o=n.startIndex;o<=n.endIndex;o++)i=this.getItemLayout(o),o<t?s=Math.abs(e-i.bottom):o===t?s=0:s=Math.abs(e-i.top),r.push({index:o,distance:s});return r.sort(function(e,t){return e.distance<t.distance?-1:e.distance>t.distance?1:0}),r.map(function(e){return e.index})},getVisibleItemRange:function(){var e=this.getVisiblePosition(),t=this.getItemRangeToRender(),n,r,i=-1,s=-1,o;for(r=t.startIndex;r<=t.endIndex;r++){n=this.getItemLayout(r);if(n.bottom<=e.top)continue;if(n.top>=e.bottom)break;i===-1&&(i=r),s=r}return o={startIndex:i,endIndex:s},this._cache.visibleItemRange=o,o},getVisiblePosition:function(){if(this._cache.visiblePosition)return this._cache.visiblePosition;var e,t=this._scrollPosition.top,n=this.getViewportSize().height;return e={top:this._unscale(-t),bottom:this._unscale(-t+n),center:this._unscale(-t+n/2)},this._cache.visiblePosition=e,e},loadContent:function(){var e=this._renderer,t=this._options.minNumberOfVirtualItems,n=this.getOrderedRenderedItemIndexes(),r=n.length,i,s;for(s=r-1;s>=t;s--)e.unload(n[s]);for(s=0;s<r;s++){if(s===t)break;i=n[s],e.load(this.getItemLayout(i))}},measure:function(){this._measureViewport(),this._measureLayout(),this._invalidatePosition()},render:function(e){var t=this._renderer,n=this.getItemRangeToRender(e),r=this._cache.lastRenderedItemRange,i=this.getItemMetadata().length,s,o=!e,u=this.getCurrentItemIndex();if(r){s=Math.min(n.startIndex-1,r.endIndex);while(s>-1&&t.remove(s--));s=Math.max(n.endIndex+1,r.startIndex);while(s<i&&t.remove(s++));}for(s=n.startIndex;s<=n.endIndex;s++)t.render(this.getItemLayout(s));o&&u!==this._cache.lastItemIndex&&this.onCurrentItemIndexChanged.dispatch([this,{index:u}]),this._cache.lastRenderedPosition=this.getPositionToRender(e),this._cache.lastRenderedItemRange=n,this._cache.lastItemIndex=u},_initialize:function(){this._validateConfiguration(),this.measure()},_invalidatePosition:function(){this._cache.currentItemIndex=null,this._cache.itemRangeToRender=null,this._cache.positionToRender=null,this._cache.visibleItemRange=null,this._cache.visiblePosition=null},_measureLayout:function(){function w(t){function n(t){var n=o[r.fit](e,t,f);return Math.min(n,r.fitUpscaleLimit)}return s?m||(m=n(l)):n(t)}function E(e){return Math.round((t-e)/2)}var e=this.getViewportSize(),t=e.width,n=e.height,r=this.getOptions(),s=r.flow,u=Math.floor(r.gap/2),a=Math.ceil(r.gap/2),f=r.padding,l=this.getItemMetadata(),c=l.length,h,p=new Array(c),d,v,m,g,y=0,b=0;for(h=0;h<c;h++)v=l[h],g=w(v),d=new i({itemIndex:h,top:b,scaleToFit:g,width:Math.floor(v.width*g),height:Math.floor(v.height*g),paddingLeft:f,paddingRight:f}),s?(d.paddingTop=h===0?f:u,d.paddingBottom=h===c-1?f:a):(d.paddingTop=f,d.paddingBottom=f),d.outerWidth=d.width+d.paddingLeft+d.paddingRight,d.outerHeight=d.height+d.paddingTop+d.paddingBottom,s?(d.bottom=d.top+d.outerHeight,d.offsetTop=0,d.left=E(d.outerWidth),d.right=d.left+d.outerWidth,d.offsetLeft=0):(d.bottom=d.top+n,d.offsetTop=d.outerHeight<n?Math.round((n-d.outerHeight)/2):0,d.left=0,d.right=t,d.offsetLeft=E(d.outerWidth)),p[h]=d,d.right-d.left>y&&(y=d.right-d.left),b=d.bottom;this._cache.itemLayouts=p,this._cache.size={width:y,height:b}},_measureViewport:function(){var e=r.width(this._viewport),t=r.height(this._viewport);this._cache.viewportSize={width:e,height:t}},_unscale:function(e){return Math.ceil(e/this._scale)},_validateConfiguration:function(){if(!this._viewport)throw new Error("VerticalLayout configuration: viewport is required.");if(!this._itemMetadata)throw new Error("VerticalLayout configuration: itemMetadata is required.");if(!this._renderer)throw new Error("VerticalLayout configuration: renderer is required.")}},u}),i("scroll_list/ScrollList",["require","lodash","wf-js-uicomponents/scroll_list/AwesomeMapFactory","wf-js-common/DestroyUtil","wf-js-uicomponents/scroll_list/FitModes","wf-js-common/Observable","wf-js-uicomponents/scroll_list/PlaceholderRenderer","wf-js-uicomponents/scroll_list/ScaleTranslator","wf-js-uicomponents/scroll_list/ScrollModes","wf-js-common/Utils","wf-js-uicomponents/layouts/VerticalLayout"],function(e){var t=e("lodash"),n=e("wf-js-uicomponents/scroll_list/AwesomeMapFactory"),r=e("wf-js-common/DestroyUtil"),i=e("wf-js-uicomponents/scroll_list/FitModes"),s=e("wf-js-common/Observable"),o=e("wf-js-uicomponents/scroll_list/PlaceholderRenderer"),u=e("wf-js-uicomponents/scroll_list/ScaleTranslator"),a=e("wf-js-uicomponents/scroll_list/ScrollModes"),f=e("wf-js-common/Utils"),l=e("wf-js-uicomponents/layouts/VerticalLayout"),c=function(e,n,r){this.onContentRequested=s.newObservable(),this.onContentRemoved=s.newObservable(),this.onCurrentItemChanged=s.newObservable(),this.onCurrentItemChanging=s.newObservable(),this.onInteraction=s.newObservable(),this.onInteractionStarted=s.newObservable(),this.onInteractionFinished=s.newObservable(),this.onPlaceholderRendered=s.newObservable(),this.onScaleChanged=s.newObservable(),this._listMap=null,this._host=e,this._items=n,this._layout=null,this._options=t.extend({disableScaleTranslation:!1,fit:i.WIDTH,fitUpscaleLimit:1,gap:0,minNumberOfVirtualItems:3,mode:a.FLOW,padding:0,scaleLimits:{minimum:1,maximum:3}},r),this._renderer=null,this._scaleTranslator=null,this._initialize()};return c.prototype={getCurrentItem:function(){var e=this._layout.getCurrentItemIndex(),t=this._renderer.get(e);return{index:e,placeholder:t}},getCurrentItemMap:function(){var e=this._layout.getCurrentItemIndex(),t=this._renderer.get(e);return t&&t.map},getListMap:function(){return this._listMap},getHost:function(){return this._host},getItemMetadata:function(){return this._items},getLayout:function(){return this._layout},getOptions:function(){return this._options},getRenderer:function(){return this._renderer},getScale:function(){return this._scaleTranslator.fromMapScale()},getScaleTranslator:function(){return this._scaleTranslator},isDisabled:function(){return this._listMap.isDisabled()},disable:function(){this._listMap.disable();var e=this.getCurrentItemMap();e&&e.disable()},dispose:function(){this._layout.dispose(),this._renderer.dispose(),this._listMap.dispose(),this._scaleTranslator.dispose(),this.onContentRequested.dispose(),this.onContentRemoved.dispose(),this.onCurrentItemChanged.dispose(),this.onCurrentItemChanging.dispose(),this.onInteraction.dispose(),this.onInteractionFinished.dispose(),this.onInteractionStarted.dispose(),this.onPlaceholderRendered.dispose(),this.onScaleChanged.dispose(),r.destroy(this)},enable:function(){this._listMap.enable();var e=this.getCurrentItemMap();e&&e.enable()},refresh:function(){var e=this._listMap,t=e.getCurrentTransformState(),n=e.getContentDimensions().height,r=t.scale,i=-t.translateY/r,s=i/n,o,u;this._layout.clear(),this._layout.measure(),this._renderer.refresh(),e.invalidateViewportDimensions(),e.setContentDimensions(this._layout.getSize()),this._scaleTranslator.attach(e,0),u=e.getContentDimensions().height,o=Math.round(u*r*s),e.panTo({x:t.translateX,y:-o,duration:0})},render:function(){this._layout.render(),this._layout.loadContent()},scrollTo:function(e){if(e.index===undefined)throw new Error("ScrollList.scrollTo: index is required.");var t={x:0,y:0,duration:f.valueOr(e.duration,0),done:e.done},n=this._layout,r=n.getCurrentItemIndex(),i=Math.max(0,Math.min(e.index||0,this._items.length-1)),s=n.getItemLayout(i),o=this._listMap.getCurrentTransformState();t.x=o.translateX,t.y=-s.top*o.scale;var u=e.center;u&&this._setViewportCenter(u,s.scaleToFit,t),this.onCurrentItemChanging.dispatch([this,{fromIndex:r,toIndex:i}]);var a=n.getRenderedItemRange();if(!a||i<a.startIndex||i>a.endIndex)n.setScrollPosition({top:t.y,left:t.x}),n.render();this._listMap.panTo(t)},zoomTo:function(e,t,n){(this.getCurrentItemMap()||this._listMap).zoomTo({scale:this._scaleTranslator.toMapScale(e),duration:t,done:n})},_initialize:function(){this._validateConfiguration(),this._initializeRenderer(),this._initializeLayout(),this._listMap=n.createListMap(this),this._scaleTranslator=new u(this,this._listMap,0)},_initializeRenderer:function(){var e=this;this._renderer=new o(this),this._renderer.onRendered(function(t,n){e.onPlaceholderRendered.dispatch([e,{itemIndex:n.itemIndex,placeholder:n.placeholder}])}),this._renderer.onLoading(function(t,n){e.onContentRequested.dispatch([e,n])}),this._renderer.onUnloaded(function(t,n){e.onContentRemoved.dispatch([e,n])})},_initializeLayout:function(){var e=this,t=this._options,n=t.mode===a.FLOW;this._layout=new l(this._host,this._items,this._renderer,{minNumberOfVirtualItems:t.minNumberOfVirtualItems,eagerRenderingFactor:n?2:1,fit:t.fit,fitUpscaleLimit:t.fitUpscaleLimit,flow:n,gap:t.gap,padding:t.padding}),this._layout.onCurrentItemIndexChanged(function(){var t=e.getCurrentItem(),r=t.index,i=t.placeholder;if(!n){var s=e._renderer.get(r).map;e._scaleTranslator.attach(s,r)}e.onCurrentItemChanged.dispatch([e,{itemIndex:r,placeholder:i}])})},_setViewportCenter:function(e,t,n){var r=this._layout.getViewportSize(),i=function(n){return{x:r.width/2-t*e.x*n,y:r.height/2-t*e.y*n}},s,o=this.getCurrentItemMap();if(o){var u=n.done;n.done=function(){s=i(o.getCurrentTransformState().scale),o.panTo({x:s.x,y:s.y,duration:0,done:u})}}else s=i(this._listMap.getCurrentTransformState().scale),n.x=s.x,n.y+=s.y},_validateConfiguration:function(){if(!this._host)throw new Error("ScrollList configuration: host is required.");if(!this._items)throw new Error("ScrollList configuration: items is required.")}},c}),e.ScrollList=r("scroll_list/ScrollList")});